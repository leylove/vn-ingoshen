function embed(e,t,i){if(i){var n=document.createDocumentFragment(),o=!t.hasAttribute("viewBox")&&i.getAttribute("viewBox");o&&t.setAttribute("viewBox",o);for(var a=i.cloneNode(!0);a.childNodes.length;)n.appendChild(a.firstChild);e.appendChild(n)}}function loadreadystatechange(e){e.onreadystatechange=function(){if(4===e.readyState){var t=e._cachedDocument;t||(t=e._cachedDocument=document.implementation.createHTMLDocument(""),t.body.innerHTML=e.responseText,e._cachedTarget={}),e._embeds.splice(0).map(function(i){var n=e._cachedTarget[i.id];n||(n=e._cachedTarget[i.id]=t.getElementById(i.id)),embed(i.parent,i.svg,n)})}},e.onreadystatechange()}function svg4everybody(e){function t(){for(var e=0;e<h.length;){var s=h[e],r=s.parentNode,l=getSVGAncestor(r);if(l){var c=s.getAttribute("xlink:href")||s.getAttribute("href");if(LEGACY_SUPPORT&&i){var p=document.createElement("img");p.style.cssText="display:inline-block;height:100%;width:100%",p.setAttribute("width",l.getAttribute("width")||l.clientWidth),p.setAttribute("height",l.getAttribute("height")||l.clientHeight),p.src=n(c,l,s),r.replaceChild(p,s)}else if(a&&(!o.validate||o.validate(c,l,s))){r.removeChild(s);var f=c.split("#"),m=f.shift(),g=f.join("#");if(m.length){var v=d[m];v||(v=d[m]=new XMLHttpRequest,v.open("GET",m),v.send(),v._embeds=[]),v._embeds.push({parent:r,svg:l,id:g}),loadreadystatechange(v)}else embed(r,document.getElementById(g))}}else++e}u(t,67)}var i,n,o=Object(e);LEGACY_SUPPORT&&(n=o.fallback||function(e){return e.replace(/\?[^#]+/,"").replace("#",".").replace(/^\./,"")+".png"+(/\?[^#]+/.exec(e)||[""])[0]},i="nosvg"in o?o.nosvg:/\bMSIE [1-8]\b/.test(navigator.userAgent),i&&(document.createElement("svg"),document.createElement("use")));var a,s=/\bMSIE [1-8]\.0\b/,r=/\bTrident\/[567]\b|\bMSIE (?:9|10)\.0\b/,l=/\bAppleWebKit\/(\d+)\b/,c=/\bEdge\/12\.(\d+)\b/;a="polyfill"in o?o.polyfill:LEGACY_SUPPORT?s.test(navigator.userAgent)||r.test(navigator.userAgent)||(navigator.userAgent.match(c)||[])[1]<10547||(navigator.userAgent.match(l)||[])[1]<537:r.test(navigator.userAgent)||(navigator.userAgent.match(c)||[])[1]<10547||(navigator.userAgent.match(l)||[])[1]<537;var d={},u=window.requestAnimationFrame||setTimeout,h=document.getElementsByTagName("use");a&&t()}function getSVGAncestor(e){for(var t=e;"svg"!==t.nodeName.toLowerCase()&&(t=t.parentNode););return t}!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){"use strict";var t="animsition",i={init:function(n){n=e.extend({inClass:"fade-in",outClass:"fade-out",inDuration:1500,outDuration:800,linkElement:".animsition-link",loading:!0,loadingParentElement:"body",loadingClass:"animsition-loading",loadingInner:"",timeout:!1,timeoutCountdown:5e3,onLoadEvent:!0,browser:["animation-duration","-webkit-animation-duration"],overlay:!1,overlayClass:"animsition-overlay-slide",overlayParentElement:"body",transition:function(e){window.location.href=e}},n),i.settings={timer:!1,data:{inClass:"animsition-in-class",inDuration:"animsition-in-duration",outClass:"animsition-out-class",outDuration:"animsition-out-duration",overlay:"animsition-overlay"},events:{inStart:"animsition.inStart",inEnd:"animsition.inEnd",outStart:"animsition.outStart",outEnd:"animsition.outEnd"}};var o=i.supportCheck.call(this,n);if(!o&&n.browser.length>0&&(!o||!this.length))return"console"in window||(window.console={},window.console.log=function(e){return e}),this.length||console.log("Animsition: Element does not exist on page."),o||console.log("Animsition: Does not support this browser."),i.destroy.call(this);var a=i.optionCheck.call(this,n);return a&&e("."+n.overlayClass).length<=0&&i.addOverlay.call(this,n),n.loading&&e("."+n.loadingClass).length<=0&&i.addLoading.call(this,n),this.each(function(){var o=this,a=e(this),s=e(window),r=e(document),l=a.data(t);l||(n=e.extend({},n),a.data(t,{options:n}),n.timeout&&i.addTimer.call(o),n.onLoadEvent&&s.on("load."+t,function(){i.settings.timer&&clearTimeout(i.settings.timer),i["in"].call(o)}),s.on("pageshow."+t,function(e){e.originalEvent.persisted&&i["in"].call(o)}),s.on("unload."+t,function(){}),r.on("click."+t,n.linkElement,function(t){t.preventDefault();var n=e(this),a=n.attr("href");2===t.which||t.metaKey||t.shiftKey||-1!==navigator.platform.toUpperCase().indexOf("WIN")&&t.ctrlKey?window.open(a,"_blank"):i.out.call(o,n,a)}))})},addOverlay:function(t){e(t.overlayParentElement).prepend('<div class="'+t.overlayClass+'"></div>')},addLoading:function(t){e(t.loadingParentElement).append('<div class="'+t.loadingClass+'">'+t.loadingInner+"</div>")},removeLoading:function(){var i=e(this),n=i.data(t).options,o=e(n.loadingParentElement).children("."+n.loadingClass);o.fadeOut().remove()},addTimer:function(){var n=this,o=e(this),a=o.data(t).options;i.settings.timer=setTimeout(function(){i["in"].call(n),e(window).off("load."+t)},a.timeoutCountdown)},supportCheck:function(t){var i=e(this),n=t.browser,o=n.length,a=!1;0===o&&(a=!0);for(var s=0;o>s;s++)if("string"==typeof i.css(n[s])){a=!0;break}return a},optionCheck:function(t){var n,o=e(this);return n=!(!t.overlay&&!o.data(i.settings.data.overlay))},animationCheck:function(i,n,o){var a=e(this),s=a.data(t).options,r=typeof i,l=!n&&"number"===r,c=n&&"string"===r&&i.length>0;return l||c?i=i:n&&o?i=s.inClass:!n&&o?i=s.inDuration:n&&!o?i=s.outClass:n||o||(i=s.outDuration),i},"in":function(){var n=this,o=e(this),a=o.data(t).options,s=o.data(i.settings.data.inDuration),r=o.data(i.settings.data.inClass),l=i.animationCheck.call(n,s,!1,!0),c=i.animationCheck.call(n,r,!0,!0),d=i.optionCheck.call(n,a),u=o.data(t).outClass;a.loading&&i.removeLoading.call(n),u&&o.removeClass(u),d?i.inOverlay.call(n,c,l):i.inDefault.call(n,c,l)},inDefault:function(t,n){var o=e(this);o.css({"animation-duration":n+"ms"}).addClass(t).trigger(i.settings.events.inStart).animateCallback(function(){o.removeClass(t).css({opacity:1}).trigger(i.settings.events.inEnd)})},inOverlay:function(n,o){var a=e(this),s=a.data(t).options;a.css({opacity:1}).trigger(i.settings.events.inStart),e(s.overlayParentElement).children("."+s.overlayClass).css({"animation-duration":o+"ms"}).addClass(n).animateCallback(function(){a.trigger(i.settings.events.inEnd)})},out:function(n,o){var a=this,s=e(this),r=s.data(t).options,l=n.data(i.settings.data.outClass),c=s.data(i.settings.data.outClass),d=n.data(i.settings.data.outDuration),u=s.data(i.settings.data.outDuration),h=l?l:c,p=d?d:u,f=i.animationCheck.call(a,h,!0,!1),m=i.animationCheck.call(a,p,!1,!1),g=i.optionCheck.call(a,r);s.data(t).outClass=f,g?i.outOverlay.call(a,f,m,o):i.outDefault.call(a,f,m,o)},outDefault:function(n,o,a){var s=e(this),r=s.data(t).options;s.css({"animation-duration":o+1+"ms"}).addClass(n).trigger(i.settings.events.outStart).animateCallback(function(){s.trigger(i.settings.events.outEnd),r.transition(a)})},outOverlay:function(n,o,a){var s=this,r=e(this),l=r.data(t).options,c=r.data(i.settings.data.inClass),d=i.animationCheck.call(s,c,!0,!0);e(l.overlayParentElement).children("."+l.overlayClass).css({"animation-duration":o+1+"ms"}).removeClass(d).addClass(n).trigger(i.settings.events.outStart).animateCallback(function(){r.trigger(i.settings.events.outEnd),l.transition(a)})},destroy:function(){return this.each(function(){var i=e(this);e(window).off("."+t),i.css({opacity:1}).removeData(t)})}};e.fn.animateCallback=function(t){var i="animationend webkitAnimationEnd";return this.each(function(){var n=e(this);n.on(i,function(){return n.off(i),t.call(this)})})},e.fn.animsition=function(n){return i[n]?i[n].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof n&&n?void e.error("Method "+n+" does not exist on jQuery."+t):i.init.apply(this,arguments)}}),!function(){if(!window.CustomEvent&&document.createEventObject)return void(window.CustomEvent=function(e,t){if(!arguments.length)throw new Error("Not enough arguments");var i={type:e,bubbles:!1,cancelable:!1,detail:null},n=document.createEventObject();for(var o in i)n[o]=i[o];for(var o in t)n[o]=t[o];return n});try{new CustomEvent("test")}catch(e){var t=function(e,t){if(!arguments.length)throw new Error("Not enough arguments");var i={bubbles:!1,cancelable:!1,detail:null};for(var n in t)i[n]=t[n];var o=document.createEvent("CustomEvent");return o.initCustomEvent(e,i.bubbles,i.cancelable,i.detail),o};t.prototype=(window.CustomEvent||window.Event).prototype,window.CustomEvent=t}}(),function(){if(!document.addEventListener&&window.Element&&window.Event){var e="__events",t="__immediateStopped";Event.prototype.NONE=Event.NONE=0,Event.prototype.CAPTURING_PHASE=Event.CAPTURING_PHASE=1,Event.prototype.AT_TARGET=Event.AT_TARGET=2,Event.prototype.BUBBLING_PHASE=Event.BUBBLING_PHASE=3,Event.prototype.preventDefault=function(){this.cancelable!==!1&&(this.returnValue=!1)},Event.prototype.stopPropagation=function(){this.cancelBubble=!0},Event.prototype.stopImmediatePropagation=function(){this[t]=this.cancelBubble=!0};for(var i=function(e,t){return e.timeStamp=+new Date,e.target||(e.target=e.srcElement||t),e.pageX=e.clientX+document.documentElement.scrollLeft,e.pageY=e.clientY+document.documentElement.scrollTop,"mouseover"==e.type?e.relatedTarget=e.fromElement:"mouseout"==e.type?e.relatedTarget=e.toElement:e.relatedTarget=null,e},n=function(e,t,i){for(var n=0;n<e.length;n++){var o=e[n];if(o.useCapture==i&&o.listener==t)return n}return-1},o=function(e,t,i){e.currentTarget=i,"function"==typeof t?t.call(i,e):t.handleEvent(e)},a=function(e){for(var t=[];e.parentNode;)t.unshift(e.parentNode),e=e.parentNode;return t},s=function(i,n,a){i.eventPhase=a;for(var s=0;s<n.length;s++){for(var r=n[s],l=[],c=(r[e]||{})[i.type]||[],d=0;d<c.length;d++){var u=c[d];u.useCapture&&a==Event.BUBBLING_PHASE||(u.useCapture||a!=Event.CAPTURING_PHASE)&&l.push(u.listener)}for(d=0;d<l.length;)try{for(;d<l.length;){var h=l[d++];if(o(i,h,r),i[t])return!0}}catch(p){setTimeout(function(){throw p},0)}if(i.cancelBubble)return!0}return!1},r=function(e){i(e,this);var t=a(e.target);return t.length&&s(e,t,Event.CAPTURING_PHASE)?e.returnValue:s(e,[e.target],Event.AT_TARGET)?e.returnValue:t.length&&e.bubbles!==!1&&(t.reverse(),s(e,t,Event.BUBBLING_PHASE))?e.returnValue:(e.stopPropagation(),e.returnValue)},l=({addEventListener:function(t,i,o){var a=this,s=(this[e]||{})[t]||[],l=s.length;if(!(n(s,i,o)>-1)){if(e in this)var c=this[e];else{var c={_handler:function(){r.apply(a,arguments)}};this[e]=c}t in c||(c[t]=[]),c[t].push({listener:i,useCapture:o}),l||this.attachEvent("on"+t,c._handler)}},removeEventListener:function(t,i,o){var a=(this[e]||{})[t]||[],s=n(a,i,o);-1!=s&&(a.splice(s,1),a.length||this.detachEvent("on"+t,this[e]._handler))},dispatchEvent:function(e){return e.returnValue=!0,r.call(this,e)}}),c=[Element,window.constructor,document.constructor];c.length;){var d=c.pop();for(var u in l)d.prototype[u]=l[u]}}}(),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var i,n;if(null==this)throw new TypeError(" this is null or not defined");var o=Object(this),a=o.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(i=t),n=0;a>n;){var s;n in o&&(s=o[n],e.call(i,s,n,o)),n++}}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var i;if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),o=n.length>>>0;if(0===o)return-1;var a=+t||0;if(Math.abs(a)===1/0&&(a=0),a>=o)return-1;for(i=Math.max(a>=0?a:o-Math.abs(a),0);o>i;){if(i in n&&n[i]===e)return i;i++}return-1}),function(e){var t;if("object"==typeof exports){try{t=require("jquery")}catch(i){}module.exports=e(window,document,t)}else"function"==typeof define&&define.amd?define([],function(){return e(window,document,window.jQuery)}):window.Dropkick=e(window,document,window.jQuery)}(function(e,t,i,n){var o,a=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),s=e.parent!==e.self,r=-1!==navigator.appVersion.indexOf("MSIE"),l=function(i,n){var o,a;if(this===e)return new l(i,n);for("string"==typeof i&&"#"===i[0]&&(i=t.getElementById(i.substr(1))),o=0;o<l.uid;o++)if(a=l.cache[o],a instanceof l&&a.data.select===i)return u.extend(a.data.settings,n),a;return i?i.length<1?(console.error("You must have options inside your <select>: ",i),!1):"SELECT"===i.nodeName?this.init(i,n):void 0:(console.error("You must pass a select to DropKick"),!1)},c=function(){},d={initialize:c,mobile:!1,change:c,open:c,close:c,search:"strict",bubble:!0},u={hasClass:function(e,t){var i=new RegExp("(^|\\s+)"+t+"(\\s+|$)");return e&&i.test(e.className)},addClass:function(e,t){e&&!u.hasClass(e,t)&&(e.className+=" "+t)},removeClass:function(e,t){var i=new RegExp("(^|\\s+)"+t+"(\\s+|$)");e&&(e.className=e.className.replace(i," "))},toggleClass:function(e,t){var i=u.hasClass(e,t)?"remove":"add";u[i+"Class"](e,t)},extend:function(e){return Array.prototype.slice.call(arguments,1).forEach(function(t){if(t)for(var i in t)e[i]=t[i]}),e},offset:function(i){var n=i.getBoundingClientRect()||{top:0,left:0},o=t.documentElement,a=r?o.scrollTop:e.pageYOffset,s=r?o.scrollLeft:e.pageXOffset;return{top:n.top+a-o.clientTop,left:n.left+s-o.clientLeft}},position:function(e,t){for(var i={top:0,left:0};e&&e!==t;)i.top+=e.offsetTop,i.left+=e.offsetLeft,e=e.parentNode;return i},closest:function(e,t){for(;e;){if(e===t)return e;e=e.parentNode}return!1},create:function(e,i){var n,o=t.createElement(e);i||(i={});for(n in i)i.hasOwnProperty(n)&&("innerHTML"===n?o.innerHTML=i[n]:o.setAttribute(n,i[n]));return o},deferred:function(t){return function(){var i=arguments,n=this;e.setTimeout(function(){t.apply(n,i)},1)}}};return l.cache={},l.uid=0,l.prototype={add:function(e,i){var n,o,a;"string"==typeof e&&(n=e,e=t.createElement("option"),e.text=n),"OPTION"===e.nodeName&&(o=u.create("li",{"class":"dk-option","data-value":e.value,text:e.text,innerHTML:e.innerHTML,role:"option","aria-selected":"false",id:"dk"+this.data.cacheID+"-"+(e.id||e.value.replace(" ","-"))}),u.addClass(o,e.className),this.length+=1,e.disabled&&(u.addClass(o,"dk-option-disabled"),o.setAttribute("aria-disabled","true")),e.hidden&&(u.addClass(o,"dk-option-hidden"),o.setAttribute("aria-hidden","true")),this.data.select.add(e,i),"number"==typeof i&&(i=this.item(i)),a=this.options.indexOf(i),a>-1?(i.parentNode.insertBefore(o,i),this.options.splice(a,0,o)):(this.data.elem.lastChild.appendChild(o),this.options.push(o)),o.addEventListener("mouseover",this),e.selected&&this.select(a))},item:function(e){return e=0>e?this.options.length+e:e,this.options[e]||null},remove:function(e){var t=this.item(e);t.parentNode.removeChild(t),this.options.splice(e,1),this.data.select.remove(e),this.select(this.data.select.selectedIndex),this.length-=1},init:function(e,i){var n,r=l.build(e,"dk"+l.uid);if(this.data={},this.data.select=e,this.data.elem=r.elem,this.data.settings=u.extend({},d,i),this.disabled=e.disabled,this.form=e.form,this.length=e.length,this.multiple=e.multiple,this.options=r.options.slice(0),this.selectedIndex=e.selectedIndex,this.selectedOptions=r.selected.slice(0),this.value=e.value,this.data.cacheID=l.uid,l.cache[this.data.cacheID]=this,this.data.settings.initialize.call(this),l.uid+=1,this._changeListener||(e.addEventListener("change",this),this._changeListener=!0),!a||this.data.settings.mobile){if(e.parentNode.insertBefore(this.data.elem,e),e.setAttribute("data-dkCacheId",this.data.cacheID),this.data.elem.addEventListener("click",this),this.data.elem.addEventListener("keydown",this),this.data.elem.addEventListener("keypress",this),this.form&&this.form.addEventListener("reset",this),!this.multiple)for(n=0;n<this.options.length;n++)this.options[n].addEventListener("mouseover",this);o||(t.addEventListener("click",l.onDocClick),s&&parent.document.addEventListener("click",l.onDocClick),o=!0)}return this},close:function(){var e,t=this.data.elem;if(!this.isOpen||this.multiple)return!1;for(e=0;e<this.options.length;e++)u.removeClass(this.options[e],"dk-option-highlight");t.lastChild.setAttribute("aria-expanded","false"),u.removeClass(t.lastChild,"dk-select-options-highlight"),u.removeClass(t,"dk-select-open-(up|down)"),this.isOpen=!1,this.data.settings.close.call(this)},open:u.deferred(function(){var i,o,a,s,r,l,c=this.data.elem,d=c.lastChild,h=e.pageXOffset!==n,p="CSS1Compat"===(t.compatMode||""),f=h?e.pageYOffset:p?t.documentElement.scrollTop:t.body.scrollTop;return r=u.offset(c).top-f,l=e.innerHeight-(r+c.offsetHeight),!this.isOpen&&!this.multiple&&(d.style.display="block",i=d.offsetHeight,d.style.display="",o=r>i,a=l>i,s=o&&!a?"-up":"-down",this.isOpen=!0,u.addClass(c,"dk-select-open"+s),d.setAttribute("aria-expanded","true"),this._scrollTo(this.options.length-1),this._scrollTo(this.selectedIndex),void this.data.settings.open.call(this))}),disable:function(e,t){var i="dk-option-disabled";0!==arguments.length&&"boolean"!=typeof e||(t=e===n,e=this.data.elem,i="dk-select-disabled",this.disabled=t),t===n&&(t=!0),"number"==typeof e&&(e=this.item(e)),t?(e.setAttribute("aria-disabled",!0),u.addClass(e,i)):(e.setAttribute("aria-disabled",!1),u.removeClass(e,i))},hide:function(e,t){var i="dk-option-hidden";t===n&&(t=!0),e=this.item(e),t?(e.setAttribute("aria-hidden",!0),u.addClass(e,i)):(e.setAttribute("aria-hidden",!1),u.removeClass(e,i))},select:function(e,t){var i,n,o,a,s=this.data.select;if("number"==typeof e&&(e=this.item(e)),"string"==typeof e)for(i=0;i<this.length;i++)this.options[i].getAttribute("data-value")===e&&(e=this.options[i]);return!(!e||"string"==typeof e||!t&&u.hasClass(e,"dk-option-disabled"))&&(u.hasClass(e,"dk-option")?(n=this.options.indexOf(e),o=s.options[n],this.multiple?(u.toggleClass(e,"dk-option-selected"),o.selected=!o.selected,u.hasClass(e,"dk-option-selected")?(e.setAttribute("aria-selected","true"),this.selectedOptions.push(e)):(e.setAttribute("aria-selected","false"),n=this.selectedOptions.indexOf(e),this.selectedOptions.splice(n,1))):(a=this.data.elem.firstChild,this.selectedOptions.length&&(u.removeClass(this.selectedOptions[0],"dk-option-selected"),this.selectedOptions[0].setAttribute("aria-selected","false")),u.addClass(e,"dk-option-selected"),e.setAttribute("aria-selected","true"),a.setAttribute("aria-activedescendant",e.id),a.className="dk-selected "+o.className,a.innerHTML=o.innerHTML,this.selectedOptions[0]=e,o.selected=!0),this.selectedIndex=s.selectedIndex,this.value=s.value,t||this.data.select.dispatchEvent(new CustomEvent("change",{bubbles:this.data.settings.bubble})),e):void 0)},selectOne:function(e,t){return this.reset(!0),this._scrollTo(e),this.select(e,t)},search:function(e,t){var i,n,o,a,s,r,l,c,d=this.data.select.options,u=[];if(!e)return this.options;for(t=t?t.toLowerCase():"strict",t="fuzzy"===t?2:"partial"===t?1:0,c=new RegExp((t?"":"^")+e,"i"),i=0;i<d.length;i++)if(o=d[i].text.toLowerCase(),2==t){for(n=e.toLowerCase().split(""),a=s=r=l=0;s<o.length;)o[s]===n[a]?(r+=1+r,a++):r=0,l+=r,s++;a===n.length&&u.push({e:this.options[i],s:l,i:i})}else c.test(o)&&u.push(this.options[i]);return 2===t&&(u=u.sort(function(e,t){return t.s-e.s||e.i-t.i}).reduce(function(e,t){return e[e.length]=t.e,e},[])),u},focus:function(){this.disabled||(this.multiple?this.data.elem:this.data.elem.children[0]).focus()},reset:function(e){var t,i=this.data.select;for(this.selectedOptions.length=0,t=0;t<i.options.length;t++)i.options[t].selected=!1,u.removeClass(this.options[t],"dk-option-selected"),this.options[t].setAttribute("aria-selected","false"),!e&&i.options[t].defaultSelected&&this.select(t,!0);this.selectedOptions.length||this.multiple||this.select(0,!0)},refresh:function(){Object.keys(this).length>0&&(!a||this.data.settings.mobile)&&this.dispose().init(this.data.select,this.data.settings)},dispose:function(){return Object.keys(this).length>0&&(!a||this.data.settings.mobile)&&(delete l.cache[this.data.cacheID],this.data.elem.parentNode.removeChild(this.data.elem),this.data.select.removeAttribute("data-dkCacheId")),this},handleEvent:function(e){if(!this.disabled)switch(e.type){case"click":this._delegate(e);break;case"keydown":this._keyHandler(e);break;case"keypress":this._searchOptions(e);break;case"mouseover":this._highlight(e);break;case"reset":this.reset();break;case"change":this.data.settings.change.call(this)}},_delegate:function(t){var i,n,o,a,s=t.target;if(u.hasClass(s,"dk-option-disabled"))return!1;if(this.multiple){if(u.hasClass(s,"dk-option"))if(i=e.getSelection(),"Range"===i.type&&i.collapseToStart(),t.shiftKey)if(o=this.options.indexOf(this.selectedOptions[0]),a=this.options.indexOf(this.selectedOptions[this.selectedOptions.length-1]),n=this.options.indexOf(s),n>o&&a>n&&(n=o),n>a&&a>o&&(a=o),this.reset(!0),a>n)for(;a+1>n;)this.select(n++);else for(;n>a-1;)this.select(n--);else t.ctrlKey||t.metaKey?this.select(s):(this.reset(!0),this.select(s))}else this[this.isOpen?"close":"open"](),u.hasClass(s,"dk-option")&&this.select(s)},_highlight:function(e){var t,i=e.target;if(!this.multiple){for(t=0;t<this.options.length;t++)u.removeClass(this.options[t],"dk-option-highlight");u.addClass(this.data.elem.lastChild,"dk-select-options-highlight"),u.addClass(i,"dk-option-highlight")}},_keyHandler:function(e){var t,i,n=this.selectedOptions,o=this.options,a=1,s={tab:9,enter:13,esc:27,space:32,up:38,down:40};switch(e.keyCode){case s.up:a=-1;case s.down:if(e.preventDefault(),t=n[n.length-1],u.hasClass(this.data.elem.lastChild,"dk-select-options-highlight"))for(u.removeClass(this.data.elem.lastChild,"dk-select-options-highlight"),i=0;i<o.length;i++)u.hasClass(o[i],"dk-option-highlight")&&(u.removeClass(o[i],"dk-option-highlight"),t=o[i]);a=o.indexOf(t)+a,a>o.length-1?a=o.length-1:0>a&&(a=0),this.data.select.options[a].disabled||(this.reset(!0),this.select(a),this._scrollTo(a));break;case s.space:if(!this.isOpen){e.preventDefault(),this.open();break}case s.tab:case s.enter:for(a=0;a<o.length;a++)u.hasClass(o[a],"dk-option-highlight")&&this.select(a);case s.esc:this.isOpen&&(e.preventDefault(),this.close())}},_searchOptions:function(e){var t,i=this,o=String.fromCharCode(e.keyCode||e.which),a=function(){i.data.searchTimeout&&clearTimeout(i.data.searchTimeout),i.data.searchTimeout=setTimeout(function(){i.data.searchString=""},1e3)};this.data.searchString===n&&(this.data.searchString=""),a(),this.data.searchString+=o,t=this.search(this.data.searchString,this.data.settings.search),t.length&&(u.hasClass(t[0],"dk-option-disabled")||this.selectOne(t[0]))},_scrollTo:function(e){var t,i,n,o=this.data.elem.lastChild;return!(-1===e||"number"!=typeof e&&!e||!this.isOpen&&!this.multiple)&&("number"==typeof e&&(e=this.item(e)),t=u.position(e,o).top,i=t-o.scrollTop,n=i+e.offsetHeight,void(n>o.offsetHeight?(t+=e.offsetHeight,o.scrollTop=t-o.offsetHeight):0>i&&(o.scrollTop=t)))}},l.build=function(e,t){var i,n,o,a=[],s={elem:null,options:[],selected:[]},r=function(e){var i,n,o,a,l=[];switch(e.nodeName){case"OPTION":i=u.create("li",{"class":"dk-option ","data-value":e.value,text:e.text,innerHTML:e.innerHTML,role:"option","aria-selected":"false",id:t+"-"+(e.id||e.value.replace(" ","-"))}),u.addClass(i,e.className),e.disabled&&(u.addClass(i,"dk-option-disabled"),i.setAttribute("aria-disabled","true")),e.hidden&&(u.addClass(i,"dk-option-hidden"),i.setAttribute("aria-hidden","true")),e.selected&&(u.addClass(i,"dk-option-selected"),i.setAttribute("aria-selected","true"),s.selected.push(i)),s.options.push(this.appendChild(i));break;case"OPTGROUP":for(n=u.create("li",{"class":"dk-optgroup"}),e.label&&n.appendChild(u.create("div",{"class":"dk-optgroup-label",innerHTML:e.label})),o=u.create("ul",{"class":"dk-optgroup-options"}),a=e.children.length;a--;l.unshift(e.children[a]));l.forEach(r,o),this.appendChild(n).appendChild(o)}};for(s.elem=u.create("div",{"class":"dk-select"+(e.multiple?"-multi":"")}),n=u.create("ul",{"class":"dk-select-options",id:t+"-listbox",role:"listbox"}),e.disabled&&(u.addClass(s.elem,"dk-select-disabled"),s.elem.setAttribute("aria-disabled",!0)),s.elem.id=t+(e.id?"-"+e.id:""),u.addClass(s.elem,e.className),e.multiple?(s.elem.setAttribute("tabindex",e.getAttribute("tabindex")||"0"),n.setAttribute("aria-multiselectable","true")):(i=e.options[e.selectedIndex],s.elem.appendChild(u.create("div",{"class":"dk-selected "+i.className,tabindex:e.tabindex||0,innerHTML:i?i.text:"&nbsp;",id:t+"-combobox","aria-live":"assertive","aria-owns":n.id,role:"combobox"})),n.setAttribute("aria-expanded","false")),o=e.children.length;o--;a.unshift(e.children[o]));return a.forEach(r,s.elem.appendChild(n)),s},l.onDocClick=function(e){var t,i;if(1!==e.target.nodeType)return!1;null!==(t=e.target.getAttribute("data-dkcacheid"))&&l.cache[t].focus();for(i in l.cache)u.closest(e.target,l.cache[i].data.elem)||i===t||l.cache[i].disabled||l.cache[i].close()},i!==n&&(i.fn.dropkick=function(){var e=Array.prototype.slice.call(arguments);return i(this).each(function(){e[0]&&"object"!=typeof e[0]?"string"==typeof e[0]&&l.prototype[e[0]].apply(new l(this),e.slice(1)):new l(this,e[0]||{})})}),l}),function(e){"use strict";e.fn.fitVids=function(t){var i={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var n=document.head||document.getElementsByTagName("head")[0],o=".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}",a=document.createElement("div");a.innerHTML='<p>x</p><style id="fit-vids-style">'+o+"</style>",n.appendChild(a.childNodes[1])}return t&&e.extend(i,t),this.each(function(){var t=["iframe[src*='player.vimeo.com']","iframe[src*='youtube.com']","iframe[src*='youtube-nocookie.com']","iframe[src*='kickstarter.com'][src*='video.html']","object","embed"];i.customSelector&&t.push(i.customSelector);var n=".fitvidsignore";i.ignore&&(n=n+", "+i.ignore);var o=e(this).find(t.join(","));o=o.not("object object"),o=o.not(n),o.each(function(){var t=e(this);if(!(t.parents(n).length>0||"embed"===this.tagName.toLowerCase()&&t.parent("object").length||t.parent(".fluid-width-video-wrapper").length)){t.css("height")||t.css("width")||!isNaN(t.attr("height"))&&!isNaN(t.attr("width"))||(t.attr("height",9),t.attr("width",16));var i="object"===this.tagName.toLowerCase()||t.attr("height")&&!isNaN(parseInt(t.attr("height"),10))?parseInt(t.attr("height"),10):t.height(),o=isNaN(parseInt(t.attr("width"),10))?t.width():parseInt(t.attr("width"),10),a=i/o;if(!t.attr("id")){var s="fitvid"+Math.floor(999999*Math.random());t.attr("id",s)}t.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*a+"%"),t.removeAttr("height").removeAttr("width")}})})}}(window.jQuery||window.Zepto),!function(e,t){"use strict";function i(e){this.callback=e,this.ticking=!1}function n(t){return t&&"undefined"!=typeof e&&(t===e||t.nodeType)}function o(e){if(arguments.length<=0)throw new Error("Missing arguments in extend function");var t,i,a=e||{};for(i=1;i<arguments.length;i++){var s=arguments[i]||{};for(t in s)a[t]="object"!=typeof a[t]||n(a[t])?a[t]||s[t]:o(a[t],s[t])}return a}function a(e){return e===Object(e)?e:{down:e,up:e}}function s(e,t){t=o(t,s.options),this.lastKnownScrollY=0,this.elem=e,this.debouncer=new i(this.update.bind(this)),this.tolerance=a(t.tolerance),this.classes=t.classes,this.offset=t.offset,this.scroller=t.scroller,this.initialised=!1,this.onPin=t.onPin,this.onUnpin=t.onUnpin,this.onTop=t.onTop,this.onNotTop=t.onNotTop}var r={bind:!!function(){}.bind,classList:"classList"in t.documentElement,rAF:!!(e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame)};e.requestAnimationFrame=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame,i.prototype={constructor:i,update:function(){this.callback&&this.callback(),this.ticking=!1},requestTick:function(){this.ticking||(requestAnimationFrame(this.rafCallback||(this.rafCallback=this.update.bind(this))),this.ticking=!0)},handleEvent:function(){this.requestTick()}},s.prototype={constructor:s,init:function(){return s.cutsTheMustard?(this.elem.classList.add(this.classes.initial),setTimeout(this.attachEvent.bind(this),100),this):void 0},destroy:function(){var e=this.classes;this.initialised=!1,this.elem.classList.remove(e.unpinned,e.pinned,e.top,e.initial),this.scroller.removeEventListener("scroll",this.debouncer,!1)},attachEvent:function(){this.initialised||(this.lastKnownScrollY=this.getScrollY(),this.initialised=!0,this.scroller.addEventListener("scroll",this.debouncer,!1),this.debouncer.handleEvent())},unpin:function(){var e=this.elem.classList,t=this.classes;(e.contains(t.pinned)||!e.contains(t.unpinned))&&(e.add(t.unpinned),e.remove(t.pinned),this.onUnpin&&this.onUnpin.call(this))},pin:function(){var e=this.elem.classList,t=this.classes;e.contains(t.unpinned)&&(e.remove(t.unpinned),e.add(t.pinned),this.onPin&&this.onPin.call(this))},top:function(){var e=this.elem.classList,t=this.classes;e.contains(t.top)||(e.add(t.top),e.remove(t.notTop),this.onTop&&this.onTop.call(this))},notTop:function(){var e=this.elem.classList,t=this.classes;e.contains(t.notTop)||(e.add(t.notTop),e.remove(t.top),this.onNotTop&&this.onNotTop.call(this))},getScrollY:function(){return void 0!==this.scroller.pageYOffset?this.scroller.pageYOffset:void 0!==this.scroller.scrollTop?this.scroller.scrollTop:(t.documentElement||t.body.parentNode||t.body).scrollTop},getViewportHeight:function(){return e.innerHeight||t.documentElement.clientHeight||t.body.clientHeight},getDocumentHeight:function(){var e=t.body,i=t.documentElement;return Math.max(e.scrollHeight,i.scrollHeight,e.offsetHeight,i.offsetHeight,e.clientHeight,i.clientHeight)},getElementHeight:function(e){return Math.max(e.scrollHeight,e.offsetHeight,e.clientHeight)},getScrollerHeight:function(){return this.scroller===e||this.scroller===t.body?this.getDocumentHeight():this.getElementHeight(this.scroller)},isOutOfBounds:function(e){var t=0>e,i=e+this.getViewportHeight()>this.getScrollerHeight();return t||i},toleranceExceeded:function(e,t){return Math.abs(e-this.lastKnownScrollY)>=this.tolerance[t]},shouldUnpin:function(e,t){var i=e>this.lastKnownScrollY,n=e>=this.offset;return i&&n&&t},shouldPin:function(e,t){var i=e<this.lastKnownScrollY,n=e<=this.offset;return i&&t||n},update:function(){var e=this.getScrollY(),t=e>this.lastKnownScrollY?"down":"up",i=this.toleranceExceeded(e,t);this.isOutOfBounds(e)||(e<=this.offset?this.top():this.notTop(),this.shouldUnpin(e,i)?this.unpin():this.shouldPin(e,i)&&this.pin(),this.lastKnownScrollY=e)}},s.options={tolerance:{up:0,down:0},offset:0,scroller:e,classes:{pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",initial:"headroom"}},s.cutsTheMustard="undefined"!=typeof r&&r.rAF&&r.bind&&r.classList,e.Headroom=s}(window,document),!function(e){e&&(e.fn.headroom=function(t){return this.each(function(){var i=e(this),n=i.data("headroom"),o="object"==typeof t&&t;o=e.extend(!0,{},Headroom.options,o),n||(n=new Headroom(this,o),n.init(),i.data("headroom",n)),"string"==typeof t&&n[t]()})},e("[data-headroom]").each(function(){var t=e(this);t.headroom(t.data())}))}(window.Zepto||window.jQuery),function(e,t,i){t.infinitescroll=function(e,i,n){this.element=t(n),this._create(e,i)||(this.failed=!0)},t.infinitescroll.defaults={loading:{finished:i,finishedMsg:"<em>Congratulations, you've reached the end of the internet.</em>",img:"data:image/gif;base64,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",
msg:null,msgText:"<em>Loading the next set of posts...</em>",selector:null,speed:"fast",start:i},state:{isDuringAjax:!1,isInvalidPage:!1,isDestroyed:!1,isDone:!1,isPaused:!1,currPage:1},debug:!1,behavior:i,binder:t(e),nextSelector:"div.navigation a:first",navSelector:"div.navigation",contentSelector:null,extraScrollPx:150,itemSelector:"div.post",animate:!1,pathParse:i,dataType:"html",appendCallback:!0,bufferPx:40,errorCallback:function(){},infid:0,pixelsFromNavToBottom:i,path:i,prefill:!1,maxPage:i},t.infinitescroll.prototype={_binding:function(e){var t=this,n=t.options;return n.v="2.0b2.120520",n.behavior&&this["_binding_"+n.behavior]!==i?void this["_binding_"+n.behavior].call(this):"bind"!==e&&"unbind"!==e?(this._debug("Binding value  "+e+" not valid"),!1):("unbind"===e?this.options.binder.unbind("smartscroll.infscr."+t.options.infid):this.options.binder[e]("smartscroll.infscr."+t.options.infid,function(){t.scroll()}),void this._debug("Binding",e))},_create:function(n,o){var a=t.extend(!0,{},t.infinitescroll.defaults,n);this.options=a;var s=t(e),r=this;if(!r._validate(n))return!1;var l=t(a.nextSelector).attr("href");if(!l)return this._debug("Navigation selector not found"),!1;a.path=a.path||this._determinepath(l),a.contentSelector=a.contentSelector||this.element,a.loading.selector=a.loading.selector||a.contentSelector,a.loading.msg=a.loading.msg||t('<div id="infscr-loading"><img alt="Loading..." src="'+a.loading.img+'" /><div>'+a.loading.msgText+"</div></div>"),(new Image).src=a.loading.img,a.pixelsFromNavToBottom===i&&(a.pixelsFromNavToBottom=t(document).height()-t(a.navSelector).offset().top);var c=this;return a.loading.start=a.loading.start||function(){t(a.navSelector).hide(),a.loading.msg.appendTo(a.loading.selector).show(a.loading.speed,t.proxy(function(){this.beginAjax(a)},c))},a.loading.finished=a.loading.finished||function(){a.loading.msg.fadeOut(a.loading.speed)},a.callback=function(e,n,r){a.behavior&&e["_callback_"+a.behavior]!==i&&e["_callback_"+a.behavior].call(t(a.contentSelector)[0],n,r),o&&o.call(t(a.contentSelector)[0],n,a,r),a.prefill&&s.bind("resize.infinite-scroll",e._prefill)},n.debug&&(!Function.prototype.bind||"object"!=typeof console&&"function"!=typeof console||"object"!=typeof console.log||["log","info","warn","error","assert","dir","clear","profile","profileEnd"].forEach(function(e){console[e]=this.call(console[e],console)},Function.prototype.bind)),this._setup(),a.prefill&&this._prefill(),!0},_prefill:function(){function i(){return o.height()<=a.height()}var n=this,o=t(document),a=t(e);this._prefill=function(){i()&&n.scroll(),a.bind("resize.infinite-scroll",function(){i()&&(a.unbind("resize.infinite-scroll"),n.scroll())})},this._prefill()},_debug:function(){!0===this.options.debug&&("undefined"!=typeof console&&"function"==typeof console.log?1===Array.prototype.slice.call(arguments).length&&"string"==typeof Array.prototype.slice.call(arguments)[0]?console.log(Array.prototype.slice.call(arguments).toString()):console.log(Array.prototype.slice.call(arguments)):Function.prototype.bind||"undefined"==typeof console||"object"!=typeof console.log||Function.prototype.call.call(console.log,console,Array.prototype.slice.call(arguments)))},_determinepath:function(e){var t=this.options;if(t.behavior&&this["_determinepath_"+t.behavior]!==i)return this["_determinepath_"+t.behavior].call(this,e);if(t.pathParse)return this._debug("pathParse manual"),t.pathParse(e,this.options.state.currPage+1);if(e.match(/^(.*?)\b2\b(.*?$)/))e=e.match(/^(.*?)\b2\b(.*?$)/).slice(1);else if(e.match(/^(.*?)2(.*?$)/)){if(e.match(/^(.*?page=)2(\/.*|$)/))return e=e.match(/^(.*?page=)2(\/.*|$)/).slice(1);e=e.match(/^(.*?)2(.*?$)/).slice(1)}else{if(e.match(/^(.*?page=)1(\/.*|$)/))return e=e.match(/^(.*?page=)1(\/.*|$)/).slice(1);this._debug("Sorry, we couldn't parse your Next (Previous Posts) URL. Verify your the css selector points to the correct A tag. If you still get this error: yell, scream, and kindly ask for help at infinite-scroll.com."),t.state.isInvalidPage=!0}return this._debug("determinePath",e),e},_error:function(e){var t=this.options;return t.behavior&&this["_error_"+t.behavior]!==i?void this["_error_"+t.behavior].call(this,e):("destroy"!==e&&"end"!==e&&(e="unknown"),this._debug("Error",e),"end"===e&&this._showdonemsg(),t.state.isDone=!0,t.state.currPage=1,t.state.isPaused=!1,void this._binding("unbind"))},_loadcallback:function(n,o,a){var s,r=this.options,l=this.options.callback,c=r.state.isDone?"done":r.appendCallback?"append":"no-append";if(r.behavior&&this["_loadcallback_"+r.behavior]!==i)return void this["_loadcallback_"+r.behavior].call(this,n,o);switch(c){case"done":return this._showdonemsg(),!1;case"no-append":"html"===r.dataType&&(o="<div>"+o+"</div>",o=t(o).find(r.itemSelector));break;case"append":var d=n.children();if(0===d.length)return this._error("end");for(s=document.createDocumentFragment();n[0].firstChild;)s.appendChild(n[0].firstChild);this._debug("contentSelector",t(r.contentSelector)[0]),t(r.contentSelector)[0].appendChild(s),o=d.get()}if(r.loading.finished.call(t(r.contentSelector)[0],r),r.animate){var u=t(e).scrollTop()+t("#infscr-loading").height()+r.extraScrollPx+"px";t("html,body").animate({scrollTop:u},800,function(){r.state.isDuringAjax=!1})}r.animate||(r.state.isDuringAjax=!1),l(this,o,a),r.prefill&&this._prefill()},_nearbottom:function(){var n=this.options,o=0+t(document).height()-n.binder.scrollTop()-t(e).height();return n.behavior&&this["_nearbottom_"+n.behavior]!==i?this["_nearbottom_"+n.behavior].call(this):(this._debug("math:",o,n.pixelsFromNavToBottom),o-n.bufferPx<n.pixelsFromNavToBottom)},_pausing:function(e){var t=this.options;if(t.behavior&&this["_pausing_"+t.behavior]!==i)return void this["_pausing_"+t.behavior].call(this,e);switch("pause"!==e&&"resume"!==e&&null!==e&&this._debug("Invalid argument. Toggling pause value instead"),e=!e||"pause"!==e&&"resume"!==e?"toggle":e){case"pause":t.state.isPaused=!0;break;case"resume":t.state.isPaused=!1;break;case"toggle":t.state.isPaused=!t.state.isPaused}return this._debug("Paused",t.state.isPaused),!1},_setup:function(){var e=this.options;return e.behavior&&this["_setup_"+e.behavior]!==i?void this["_setup_"+e.behavior].call(this):(this._binding("bind"),!1)},_showdonemsg:function(){var e=this.options;return e.behavior&&this["_showdonemsg_"+e.behavior]!==i?void this["_showdonemsg_"+e.behavior].call(this):(e.loading.msg.find("img").hide().parent().find("div").html(e.loading.finishedMsg).animate({opacity:1},2e3,function(){t(this).parent().fadeOut(e.loading.speed)}),void e.errorCallback.call(t(e.contentSelector)[0],"done"))},_validate:function(e){for(var i in e)if(i.indexOf&&i.indexOf("Selector")>-1&&0===t(e[i]).length)return this._debug("Your "+i+" found no elements."),!1;return!0},bind:function(){this._binding("bind")},destroy:function(){return this.options.state.isDestroyed=!0,this.options.loading.finished(),this._error("destroy")},pause:function(){this._pausing("pause")},resume:function(){this._pausing("resume")},beginAjax:function(e){var n,o,a,s,r=this,l=e.path;if(e.state.currPage++,e.maxPage!=i&&e.state.currPage>e.maxPage)return void this.destroy();switch(n=t(t(e.contentSelector).is("table")?"<tbody/>":"<div/>"),o="function"==typeof l?l(e.state.currPage):l.join(e.state.currPage),r._debug("heading into ajax",o),a="html"===e.dataType||"json"===e.dataType?e.dataType:"html+callback",e.appendCallback&&"html"===e.dataType&&(a+="+callback"),a){case"html+callback":r._debug("Using HTML via .load() method"),n.load(o+" "+e.itemSelector,i,function(e){r._loadcallback(n,e,o)});break;case"html":r._debug("Using "+a.toUpperCase()+" via $.ajax() method"),t.ajax({url:o,dataType:e.dataType,complete:function(e,t){s="undefined"!=typeof e.isResolved?e.isResolved():"success"===t||"notmodified"===t,s?r._loadcallback(n,e.responseText,o):r._error("end")}});break;case"json":r._debug("Using "+a.toUpperCase()+" via $.ajax() method"),t.ajax({dataType:"json",type:"GET",url:o,success:function(t,a,l){if(s="undefined"!=typeof l.isResolved?l.isResolved():"success"===a||"notmodified"===a,e.appendCallback)if(e.template!==i){var c=e.template(t);n.append(c),s?r._loadcallback(n,c):r._error("end")}else r._debug("template must be defined."),r._error("end");else s?r._loadcallback(n,t,o):r._error("end")},error:function(){r._debug("JSON ajax request failed."),r._error("end")}})}},retrieve:function(e){e=e||null;var n=this,o=n.options;return o.behavior&&this["retrieve_"+o.behavior]!==i?void this["retrieve_"+o.behavior].call(this,e):o.state.isDestroyed?(this._debug("Instance is destroyed"),!1):(o.state.isDuringAjax=!0,void o.loading.start.call(t(o.contentSelector)[0],o))},scroll:function(){var e=this.options,t=e.state;return e.behavior&&this["scroll_"+e.behavior]!==i?void this["scroll_"+e.behavior].call(this):void(t.isDuringAjax||t.isInvalidPage||t.isDone||t.isDestroyed||t.isPaused||this._nearbottom()&&this.retrieve())},toggle:function(){this._pausing()},unbind:function(){this._binding("unbind")},update:function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))}},t.fn.infinitescroll=function(e,i){var n=typeof e;switch(n){case"string":var o=Array.prototype.slice.call(arguments,1);this.each(function(){var i=t.data(this,"infinitescroll");return!!i&&(!(!t.isFunction(i[e])||"_"===e.charAt(0))&&void i[e].apply(i,o))});break;case"object":this.each(function(){var n=t.data(this,"infinitescroll");n?n.update(e):(n=new t.infinitescroll(e,i,this),n.failed||t.data(this,"infinitescroll",n))})}return this};var n,o=t.event;o.special.smartscroll={setup:function(){t(this).bind("scroll",o.special.smartscroll.handler)},teardown:function(){t(this).unbind("scroll",o.special.smartscroll.handler)},handler:function(e,i){var o=this,a=arguments;e.type="smartscroll",n&&clearTimeout(n),n=setTimeout(function(){t(o).trigger("smartscroll",a)},"execAsap"===i?0:100)}},t.fn.smartscroll=function(e){return e?this.bind("smartscroll",e):this.trigger("smartscroll",["execAsap"])}}(window,jQuery),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipeUI_Default=t()}(this,function(){"use strict";var e=function(e,t){var i,n,o,a,s,r,l,c,d,u,h,p,f,m,g,v,b,y,w,C=this,A=!1,x=!0,E=!0,k={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return e.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return e.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},I=function(e){if(v)return!0;e=e||window.event,g.timeToIdle&&g.mouseUsed&&!d&&N();for(var i,n,o=e.target||e.srcElement,a=o.getAttribute("class")||"",s=0;s<Q.length;s++)i=Q[s],i.onTap&&a.indexOf("pswp__"+i.name)>-1&&(i.onTap(),n=!0);if(n){e.stopPropagation&&e.stopPropagation(),v=!0;var r=t.features.isOldAndroid?600:30;b=setTimeout(function(){v=!1},r)}},T=function(){return!e.likelyTouchDevice||g.mouseUsed||screen.width>g.fitControlsWidth},S=function(e,i,n){t[(n?"add":"remove")+"Class"](e,"pswp__"+i)},B=function(){var e=1===g.getNumItemsFn();e!==m&&(S(n,"ui--one-slide",e),m=e)},D=function(){S(l,"share-modal--hidden",E)},O=function(){return E=!E,E?(t.removeClass(l,"pswp__share-modal--fade-in"),setTimeout(function(){E&&D()},300)):(D(),setTimeout(function(){E||t.addClass(l,"pswp__share-modal--fade-in")},30)),E||M(),!1},L=function(t){t=t||window.event;var i=t.target||t.srcElement;return e.shout("shareLinkClick",t,i),!!i.href&&(!!i.hasAttribute("download")||(window.open(i.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),E||O(),!1))},M=function(){for(var e,t,i,n,o,a="",s=0;s<g.shareButtons.length;s++)e=g.shareButtons[s],i=g.getImageURLForShare(e),n=g.getPageURLForShare(e),o=g.getTextForShare(e),t=e.url.replace("{{url}}",encodeURIComponent(n)).replace("{{image_url}}",encodeURIComponent(i)).replace("{{raw_image_url}}",i).replace("{{text}}",encodeURIComponent(o)),a+='<a href="'+t+'" target="_blank" class="pswp__share--'+e.id+'"'+(e.download?"download":"")+">"+e.label+"</a>",g.parseShareButtonOut&&(a=g.parseShareButtonOut(e,a));l.children[0].innerHTML=a,l.children[0].onclick=L},F=function(e){for(var i=0;i<g.closeElClasses.length;i++)if(t.hasClass(e,"pswp__"+g.closeElClasses[i]))return!0},R=0,N=function(){clearTimeout(w),R=0,d&&C.setIdle(!1)},P=function(e){e=e?e:window.event;var t=e.relatedTarget||e.toElement;t&&"HTML"!==t.nodeName||(clearTimeout(w),w=setTimeout(function(){C.setIdle(!0)},g.timeToIdleOutside))},U=function(){g.fullscreenEl&&!t.features.isOldAndroid&&(i||(i=C.getFullscreenAPI()),i?(t.bind(document,i.eventK,C.updateFullscreen),C.updateFullscreen(),t.addClass(e.template,"pswp--supports-fs")):t.removeClass(e.template,"pswp--supports-fs"))},K=function(){g.preloaderEl&&(_(!0),u("beforeChange",function(){clearTimeout(f),f=setTimeout(function(){e.currItem&&e.currItem.loading?(!e.allowProgressiveImg()||e.currItem.img&&!e.currItem.img.naturalWidth)&&_(!1):_(!0)},g.loadingIndicatorDelay)}),u("imageLoadComplete",function(t,i){e.currItem===i&&_(!0)}))},_=function(e){p!==e&&(S(h,"preloader--active",!e),p=e)},G=function(e){var i=e.vGap;if(T()){var s=g.barsSize;if(g.captionEl&&"auto"===s.bottom)if(a||(a=t.createEl("pswp__caption pswp__caption--fake"),a.appendChild(t.createEl("pswp__caption__center")),n.insertBefore(a,o),t.addClass(n,"pswp__ui--fit")),g.addCaptionHTMLFn(e,a,!0)){var r=a.clientHeight;i.bottom=parseInt(r,10)||44}else i.bottom=s.top;else i.bottom="auto"===s.bottom?0:s.bottom;i.top=s.top}else i.top=i.bottom=0},H=function(){g.timeToIdle&&u("mouseUsed",function(){t.bind(document,"mousemove",N),t.bind(document,"mouseout",P),y=setInterval(function(){R++,2===R&&C.setIdle(!0)},g.timeToIdle/2)})},q=function(){u("onVerticalDrag",function(e){x&&e<.95?C.hideControls():!x&&e>=.95&&C.showControls()});var e;u("onPinchClose",function(t){x&&t<.9?(C.hideControls(),e=!0):e&&!x&&t>.9&&C.showControls()}),u("zoomGestureEnded",function(){e=!1,e&&!x&&C.showControls()})},Q=[{name:"caption",option:"captionEl",onInit:function(e){o=e}},{name:"share-modal",option:"shareEl",onInit:function(e){l=e},onTap:function(){O()}},{name:"button--share",option:"shareEl",onInit:function(e){r=e},onTap:function(){O()}},{name:"button--zoom",option:"zoomEl",onTap:e.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(e){s=e}},{name:"button--close",option:"closeEl",onTap:e.close},{name:"button--arrow--left",option:"arrowEl",onTap:e.prev},{name:"button--arrow--right",option:"arrowEl",onTap:e.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){i.isFullscreen()?i.exit():i.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(e){h=e}}],Z=function(){var e,i,o,a=function(n){if(n)for(var a=n.length,s=0;s<a;s++){e=n[s],i=e.className;for(var r=0;r<Q.length;r++)o=Q[r],i.indexOf("pswp__"+o.name)>-1&&(g[o.option]?(t.removeClass(e,"pswp__element--disabled"),o.onInit&&o.onInit(e)):t.addClass(e,"pswp__element--disabled"))}};a(n.children);var s=t.getChildByClass(n,"pswp__top-bar");s&&a(s.children)};C.init=function(){t.extend(e.options,k,!0),g=e.options,n=t.getChildByClass(e.scrollWrap,"pswp__ui"),u=e.listen,q(),u("beforeChange",C.update),u("doubleTap",function(t){var i=e.currItem.initialZoomLevel;e.getZoomLevel()!==i?e.zoomTo(i,t,333):e.zoomTo(g.getDoubleTapZoom(!1,e.currItem),t,333)}),u("preventDragEvent",function(e,t,i){var n=e.target||e.srcElement;n&&n.getAttribute("class")&&e.type.indexOf("mouse")>-1&&(n.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(n.tagName))&&(i.prevent=!1)}),u("bindEvents",function(){t.bind(n,"pswpTap click",I),t.bind(e.scrollWrap,"pswpTap",C.onGlobalTap),e.likelyTouchDevice||t.bind(e.scrollWrap,"mouseover",C.onMouseOver)}),u("unbindEvents",function(){E||O(),y&&clearInterval(y),t.unbind(document,"mouseout",P),t.unbind(document,"mousemove",N),t.unbind(n,"pswpTap click",I),t.unbind(e.scrollWrap,"pswpTap",C.onGlobalTap),t.unbind(e.scrollWrap,"mouseover",C.onMouseOver),i&&(t.unbind(document,i.eventK,C.updateFullscreen),i.isFullscreen()&&(g.hideAnimationDuration=0,i.exit()),i=null)}),u("destroy",function(){g.captionEl&&(a&&n.removeChild(a),t.removeClass(o,"pswp__caption--empty")),l&&(l.children[0].onclick=null),t.removeClass(n,"pswp__ui--over-close"),t.addClass(n,"pswp__ui--hidden"),C.setIdle(!1)}),g.showAnimationDuration||t.removeClass(n,"pswp__ui--hidden"),u("initialZoomIn",function(){g.showAnimationDuration&&t.removeClass(n,"pswp__ui--hidden")}),u("initialZoomOut",function(){t.addClass(n,"pswp__ui--hidden")}),u("parseVerticalMargin",G),Z(),g.shareEl&&r&&l&&(E=!0),B(),H(),U(),K()},C.setIdle=function(e){d=e,S(n,"ui--idle",e)},C.update=function(){x&&e.currItem?(C.updateIndexIndicator(),g.captionEl&&(g.addCaptionHTMLFn(e.currItem,o),S(o,"caption--empty",!e.currItem.title)),A=!0):A=!1,E||O(),B()},C.updateFullscreen=function(n){n&&setTimeout(function(){e.setScrollOffset(0,t.getScrollY())},50),t[(i.isFullscreen()?"add":"remove")+"Class"](e.template,"pswp--fs")},C.updateIndexIndicator=function(){g.counterEl&&(s.innerHTML=e.getCurrentIndex()+1+g.indexIndicatorSep+g.getNumItemsFn())},C.onGlobalTap=function(i){i=i||window.event;var n=i.target||i.srcElement;if(!v)if(i.detail&&"mouse"===i.detail.pointerType){if(F(n))return void e.close();t.hasClass(n,"pswp__img")&&(1===e.getZoomLevel()&&e.getZoomLevel()<=e.currItem.fitRatio?g.clickToCloseNonZoomable&&e.close():e.toggleDesktopZoom(i.detail.releasePoint))}else if(g.tapToToggleControls&&(x?C.hideControls():C.showControls()),g.tapToClose&&(t.hasClass(n,"pswp__img")||F(n)))return void e.close()},C.onMouseOver=function(e){e=e||window.event;var t=e.target||e.srcElement;S(n,"ui--over-close",F(t))},C.hideControls=function(){t.addClass(n,"pswp__ui--hidden"),x=!1},C.showControls=function(){x=!0,A||C.update(),t.removeClass(n,"pswp__ui--hidden")},C.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},C.getFullscreenAPI=function(){var t,i=document.documentElement,n="fullscreenchange";return i.requestFullscreen?t={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:n}:i.mozRequestFullScreen?t={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+n}:i.webkitRequestFullscreen?t={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+n}:i.msRequestFullscreen&&(t={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),t&&(t.enter=function(){return c=g.closeOnScroll,g.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK?e.template[this.enterK]():void e.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},t.exit=function(){return g.closeOnScroll=c,document[this.exitK]()},t.isFullscreen=function(){return document[this.elementK]}),t}};return e}),!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipe=t()}(this,function(){"use strict";var e=function(e,t,i,n){var o={features:null,bind:function(e,t,i,n){var o=(n?"remove":"add")+"EventListener";t=t.split(" ");for(var a=0;a<t.length;a++)t[a]&&e[o](t[a],i,!1)},isArray:function(e){return e instanceof Array},createEl:function(e,t){var i=document.createElement(t||"div");return e&&(i.className=e),i},getScrollY:function(){var e=window.pageYOffset;return void 0!==e?e:document.documentElement.scrollTop},unbind:function(e,t,i){o.bind(e,t,i,!0)},removeClass:function(e,t){var i=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(i," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(e,t){o.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},hasClass:function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},getChildByClass:function(e,t){for(var i=e.firstChild;i;){if(o.hasClass(i,t))return i;i=i.nextSibling}},arraySearch:function(e,t,i){for(var n=e.length;n--;)if(e[n][i]===t)return n;return-1},extend:function(e,t,i){for(var n in t)if(t.hasOwnProperty(n)){if(i&&e.hasOwnProperty(n))continue;e[n]=t[n]}},easing:{sine:{out:function(e){return Math.sin(e*(Math.PI/2))},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{out:function(e){return--e*e*e+1}}},detectFeatures:function(){if(o.features)return o.features;var e=o.createEl(),t=e.style,i="",n={};if(n.oldIE=document.all&&!document.addEventListener,n.touch="ontouchstart"in window,window.requestAnimationFrame&&(n.raf=window.requestAnimationFrame,n.caf=window.cancelAnimationFrame),n.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!n.pointerEvent){var a=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var s=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);s&&s.length>0&&(s=parseInt(s[1],10),s>=1&&s<8&&(n.isOldIOSPhone=!0))}var r=a.match(/Android\s([0-9\.]*)/),l=r?r[1]:0;l=parseFloat(l),l>=1&&(l<4.4&&(n.isOldAndroid=!0),n.androidVersion=l),n.isMobileOpera=/opera mini|opera mobi/i.test(a)}for(var c,d,u=["transform","perspective","animationName"],h=["","webkit","Moz","ms","O"],p=0;p<4;p++){i=h[p];for(var f=0;f<3;f++)c=u[f],d=i+(i?c.charAt(0).toUpperCase()+c.slice(1):c),!n[c]&&d in t&&(n[c]=d);i&&!n.raf&&(i=i.toLowerCase(),n.raf=window[i+"RequestAnimationFrame"],n.raf&&(n.caf=window[i+"CancelAnimationFrame"]||window[i+"CancelRequestAnimationFrame"]))}if(!n.raf){var m=0;n.raf=function(e){var t=(new Date).getTime(),i=Math.max(0,16-(t-m)),n=window.setTimeout(function(){e(t+i)},i);return m=t+i,n},n.caf=function(e){clearTimeout(e)}}return n.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,o.features=n,n}};o.detectFeatures(),o.features.oldIE&&(o.bind=function(e,t,i,n){t=t.split(" ");for(var o,a=(n?"detach":"attach")+"Event",s=function(){i.handleEvent.call(i)},r=0;r<t.length;r++)if(o=t[r])if("object"==typeof i&&i.handleEvent){if(n){if(!i["oldIE"+o])return!1}else i["oldIE"+o]=s;e[a]("on"+o,i["oldIE"+o])}else e[a]("on"+o,i)});var a=this,s=25,r=3,l={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(e){return"A"===e.tagName},getDoubleTapZoom:function(e,t){return e?1:t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};o.extend(l,n);var c,d,u,h,p,f,m,g,v,b,y,w,C,A,x,E,k,I,T,S,B,D,O,L,M,F,R,N,P,U,K,_,G,H,q,Q,Z,j,Y,W,V,z,J,X,$,ee,te,ie,ne,oe,ae,se,re,le,ce,de,ue,he=function(){return{x:0,y:0}},pe=he(),fe=he(),me=he(),ge={},ve=0,be={},ye=he(),we=0,Ce=!0,Ae=[],xe={},Ee=!1,ke=function(e,t){o.extend(a,t.publicMethods),Ae.push(e)},Ie=function(e){var t=ei();return e>t-1?e-t:e<0?t+e:e},Te={},Se=function(e,t){return Te[e]||(Te[e]=[]),Te[e].push(t)},Be=function(e){var t=Te[e];if(t){var i=Array.prototype.slice.call(arguments);i.shift();for(var n=0;n<t.length;n++)t[n].apply(a,i)}},De=function(){return(new Date).getTime()},Oe=function(e){ce=e,a.bg.style.opacity=e*l.bgOpacity},Le=function(e,t,i,n,o){(!Ee||o&&o!==a.currItem)&&(n/=o?o.fitRatio:a.currItem.fitRatio),e[D]=w+t+"px, "+i+"px"+C+" scale("+n+")"},Me=function(e){oe&&(e&&(b>a.currItem.fitRatio?Ee||(hi(a.currItem,!1,!0),Ee=!0):Ee&&(hi(a.currItem),Ee=!1)),Le(oe,me.x,me.y,b))},Fe=function(e){e.container&&Le(e.container.style,e.initialPosition.x,e.initialPosition.y,e.initialZoomLevel,e)},Re=function(e,t){t[D]=w+e+"px, 0px"+C},Ne=function(e,t){if(!l.loop&&t){var i=h+(ye.x*ve-e)/ye.x,n=Math.round(e-yt.x);(i<0&&n>0||i>=ei()-1&&n<0)&&(e=yt.x+n*l.mainScrollEndFriction)}yt.x=e,Re(e,p)},Pe=function(e,t){var i=wt[e]-be[e];return fe[e]+pe[e]+i-i*(t/y)},Ue=function(e,t){e.x=t.x,e.y=t.y,t.id&&(e.id=t.id)},Ke=function(e){e.x=Math.round(e.x),e.y=Math.round(e.y)},_e=null,Ge=function(){_e&&(o.unbind(document,"mousemove",Ge),o.addClass(e,"pswp--has_mouse"),l.mouseUsed=!0,Be("mouseUsed")),_e=setTimeout(function(){_e=null},100)},He=function(){o.bind(document,"keydown",a),K.transform&&o.bind(a.scrollWrap,"click",a),l.mouseUsed||o.bind(document,"mousemove",Ge),o.bind(window,"resize scroll orientationchange",a),Be("bindEvents")},qe=function(){o.unbind(window,"resize scroll orientationchange",a),o.unbind(window,"scroll",v.scroll),o.unbind(document,"keydown",a),o.unbind(document,"mousemove",Ge),K.transform&&o.unbind(a.scrollWrap,"click",a),Y&&o.unbind(window,m,a),clearTimeout(_),Be("unbindEvents")},Qe=function(e,t){var i=li(a.currItem,ge,e);return t&&(ne=i),i},Ze=function(e){return e||(e=a.currItem),e.initialZoomLevel},je=function(e){return e||(e=a.currItem),e.w>0?l.maxSpreadZoom:1},Ye=function(e,t,i,n){return n===a.currItem.initialZoomLevel?(i[e]=a.currItem.initialPosition[e],!0):(i[e]=Pe(e,n),i[e]>t.min[e]?(i[e]=t.min[e],!0):i[e]<t.max[e]&&(i[e]=t.max[e],!0))},We=function(){if(D){var t=K.perspective&&!L;return w="translate"+(t?"3d(":"("),void(C=K.perspective?", 0px)":")")}D="left",o.addClass(e,"pswp--ie"),Re=function(e,t){t.left=e+"px"},Fe=function(e){var t=e.fitRatio>1?1:e.fitRatio,i=e.container.style,n=t*e.w,o=t*e.h;i.width=n+"px",i.height=o+"px",i.left=e.initialPosition.x+"px",i.top=e.initialPosition.y+"px"},Me=function(){if(oe){var e=oe,t=a.currItem,i=t.fitRatio>1?1:t.fitRatio,n=i*t.w,o=i*t.h;e.width=n+"px",e.height=o+"px",e.left=me.x+"px",e.top=me.y+"px"}}},Ve=function(e){var t="";l.escKey&&27===e.keyCode?t="close":l.arrowKeys&&(37===e.keyCode?t="prev":39===e.keyCode&&(t="next")),t&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault?e.preventDefault():e.returnValue=!1,a[t]()))},ze=function(e){e&&(z||V||ae||Z)&&(e.preventDefault(),e.stopPropagation())},Je=function(){a.setScrollOffset(0,o.getScrollY())},Xe={},$e=0,et=function(e){Xe[e]&&(Xe[e].raf&&F(Xe[e].raf),$e--,delete Xe[e])},tt=function(e){Xe[e]&&et(e),Xe[e]||($e++,Xe[e]={})},it=function(){for(var e in Xe)Xe.hasOwnProperty(e)&&et(e)},nt=function(e,t,i,n,o,a,s){var r,l=De();tt(e);var c=function(){if(Xe[e]){if(r=De()-l,r>=n)return et(e),a(i),void(s&&s());a((i-t)*o(r/n)+t),Xe[e].raf=M(c)}};c()},ot={shout:Be,listen:Se,viewportSize:ge,options:l,isMainScrollAnimating:function(){return ae},getZoomLevel:function(){return b},getCurrentIndex:function(){return h},isDragging:function(){return Y},isZooming:function(){return ee},setScrollOffset:function(e,t){be.x=e,U=be.y=t,Be("updateScrollOffset",be)},applyZoomPan:function(e,t,i,n){me.x=t,me.y=i,b=e,Me(n)},init:function(){if(!c&&!d){var i;a.framework=o,a.template=e,a.bg=o.getChildByClass(e,"pswp__bg"),R=e.className,c=!0,K=o.detectFeatures(),M=K.raf,F=K.caf,D=K.transform,P=K.oldIE,a.scrollWrap=o.getChildByClass(e,"pswp__scroll-wrap"),a.container=o.getChildByClass(a.scrollWrap,"pswp__container"),p=a.container.style,a.itemHolders=E=[{el:a.container.children[0],wrap:0,index:-1},{el:a.container.children[1],wrap:0,index:-1},{el:a.container.children[2],wrap:0,index:-1}],E[0].el.style.display=E[2].el.style.display="none",We(),v={resize:a.updateSize,orientationchange:function(){clearTimeout(_),_=setTimeout(function(){ge.x!==a.scrollWrap.clientWidth&&a.updateSize()},500)},scroll:Je,keydown:Ve,click:ze};var n=K.isOldIOSPhone||K.isOldAndroid||K.isMobileOpera;for(K.animationName&&K.transform&&!n||(l.showAnimationDuration=l.hideAnimationDuration=0),i=0;i<Ae.length;i++)a["init"+Ae[i]]();if(t){var s=a.ui=new t(a,o);s.init()}Be("firstUpdate"),h=h||l.index||0,(isNaN(h)||h<0||h>=ei())&&(h=0),a.currItem=$t(h),(K.isOldIOSPhone||K.isOldAndroid)&&(Ce=!1),e.setAttribute("aria-hidden","false"),l.modal&&(Ce?e.style.position="fixed":(e.style.position="absolute",e.style.top=o.getScrollY()+"px")),void 0===U&&(Be("initialLayout"),U=N=o.getScrollY());var u="pswp--open ";for(l.mainClass&&(u+=l.mainClass+" "),l.showHideOpacity&&(u+="pswp--animate_opacity "),u+=L?"pswp--touch":"pswp--notouch",u+=K.animationName?" pswp--css_animation":"",u+=K.svg?" pswp--svg":"",o.addClass(e,u),a.updateSize(),f=-1,we=null,i=0;i<r;i++)Re((i+f)*ye.x,E[i].el.style);P||o.bind(a.scrollWrap,g,a),Se("initialZoomInEnd",function(){a.setContent(E[0],h-1),a.setContent(E[2],h+1),E[0].el.style.display=E[2].el.style.display="block",l.focus&&e.focus(),He()}),a.setContent(E[1],h),a.updateCurrItem(),Be("afterInit"),Ce||(A=setInterval(function(){$e||Y||ee||b!==a.currItem.initialZoomLevel||a.updateSize()},1e3)),o.addClass(e,"pswp--visible")}},close:function(){c&&(c=!1,d=!0,Be("close"),qe(),ii(a.currItem,null,!0,a.destroy))},destroy:function(){Be("destroy"),Vt&&clearTimeout(Vt),e.setAttribute("aria-hidden","true"),e.className=R,A&&clearInterval(A),o.unbind(a.scrollWrap,g,a),o.unbind(window,"scroll",a),kt(),it(),Te=null},panTo:function(e,t,i){i||(e>ne.min.x?e=ne.min.x:e<ne.max.x&&(e=ne.max.x),t>ne.min.y?t=ne.min.y:t<ne.max.y&&(t=ne.max.y)),me.x=e,me.y=t,Me()},handleEvent:function(e){e=e||window.event,v[e.type]&&v[e.type](e)},goTo:function(e){e=Ie(e);var t=e-h;we=t,h=e,a.currItem=$t(h),ve-=t,Ne(ye.x*ve),it(),ae=!1,a.updateCurrItem()},next:function(){a.goTo(h+1)},prev:function(){a.goTo(h-1)},updateCurrZoomItem:function(e){if(e&&Be("beforeChange",0),E[1].el.children.length){var t=E[1].el.children[0];oe=o.hasClass(t,"pswp__zoom-wrap")?t.style:null}else oe=null;ne=a.currItem.bounds,y=b=a.currItem.initialZoomLevel,me.x=ne.center.x,me.y=ne.center.y,e&&Be("afterChange")},invalidateCurrItems:function(){x=!0;for(var e=0;e<r;e++)E[e].item&&(E[e].item.needsUpdate=!0)},updateCurrItem:function(e){if(0!==we){var t,i=Math.abs(we);if(!(e&&i<2)){a.currItem=$t(h),Ee=!1,Be("beforeChange",we),i>=r&&(f+=we+(we>0?-r:r),i=r);for(var n=0;n<i;n++)we>0?(t=E.shift(),E[r-1]=t,f++,Re((f+2)*ye.x,t.el.style),a.setContent(t,h-i+n+1+1)):(t=E.pop(),E.unshift(t),f--,Re(f*ye.x,t.el.style),a.setContent(t,h+i-n-1-1));if(oe&&1===Math.abs(we)){var o=$t(k);o.initialZoomLevel!==b&&(li(o,ge),hi(o),Fe(o))}we=0,a.updateCurrZoomItem(),k=h,Be("afterChange")}}},updateSize:function(t){if(!Ce&&l.modal){var i=o.getScrollY();if(U!==i&&(e.style.top=i+"px",U=i),!t&&xe.x===window.innerWidth&&xe.y===window.innerHeight)return;xe.x=window.innerWidth,xe.y=window.innerHeight,e.style.height=xe.y+"px"}if(ge.x=a.scrollWrap.clientWidth,ge.y=a.scrollWrap.clientHeight,Je(),ye.x=ge.x+Math.round(ge.x*l.spacing),ye.y=ge.y,Ne(ye.x*ve),Be("beforeResize"),void 0!==f){for(var n,s,c,d=0;d<r;d++)n=E[d],Re((d+f)*ye.x,n.el.style),c=h+d-1,l.loop&&ei()>2&&(c=Ie(c)),s=$t(c),s&&(x||s.needsUpdate||!s.bounds)?(a.cleanSlide(s),a.setContent(n,c),1===d&&(a.currItem=s,a.updateCurrZoomItem(!0)),s.needsUpdate=!1):n.index===-1&&c>=0&&a.setContent(n,c),s&&s.container&&(li(s,ge),hi(s),Fe(s));x=!1}y=b=a.currItem.initialZoomLevel,ne=a.currItem.bounds,ne&&(me.x=ne.center.x,me.y=ne.center.y,Me(!0)),Be("resize")},zoomTo:function(e,t,i,n,a){t&&(y=b,wt.x=Math.abs(t.x)-me.x,wt.y=Math.abs(t.y)-me.y,Ue(fe,me));var s=Qe(e,!1),r={};Ye("x",s,r,e),Ye("y",s,r,e);var l=b,c={x:me.x,y:me.y};Ke(r);var d=function(t){1===t?(b=e,me.x=r.x,me.y=r.y):(b=(e-l)*t+l,me.x=(r.x-c.x)*t+c.x,me.y=(r.y-c.y)*t+c.y),a&&a(t),Me(1===t)};i?nt("customZoomTo",0,1,i,n||o.easing.sine.inOut,d):d(1)}},at=30,st=10,rt={},lt={},ct={},dt={},ut={},ht=[],pt={},ft=[],mt={},gt=0,vt=he(),bt=0,yt=he(),wt=he(),Ct=he(),At=function(e,t){
return e.x===t.x&&e.y===t.y},xt=function(e,t){return Math.abs(e.x-t.x)<s&&Math.abs(e.y-t.y)<s},Et=function(e,t){return mt.x=Math.abs(e.x-t.x),mt.y=Math.abs(e.y-t.y),Math.sqrt(mt.x*mt.x+mt.y*mt.y)},kt=function(){J&&(F(J),J=null)},It=function(){Y&&(J=M(It),Ht())},Tt=function(){return!("fit"===l.scaleMode&&b===a.currItem.initialZoomLevel)},St=function(e,t){return!(!e||e===document)&&!(e.getAttribute("class")&&e.getAttribute("class").indexOf("pswp__scroll-wrap")>-1)&&(t(e)?e:St(e.parentNode,t))},Bt={},Dt=function(e,t){return Bt.prevent=!St(e.target,l.isClickableElement),Be("preventDragEvent",e,t,Bt),Bt.prevent},Ot=function(e,t){return t.x=e.pageX,t.y=e.pageY,t.id=e.identifier,t},Lt=function(e,t,i){i.x=.5*(e.x+t.x),i.y=.5*(e.y+t.y)},Mt=function(e,t,i){if(e-H>50){var n=ft.length>2?ft.shift():{};n.x=t,n.y=i,ft.push(n),H=e}},Ft=function(){var e=me.y-a.currItem.initialPosition.y;return 1-Math.abs(e/(ge.y/2))},Rt={},Nt={},Pt=[],Ut=function(e){for(;Pt.length>0;)Pt.pop();return O?(ue=0,ht.forEach(function(e){0===ue?Pt[0]=e:1===ue&&(Pt[1]=e),ue++})):e.type.indexOf("touch")>-1?e.touches&&e.touches.length>0&&(Pt[0]=Ot(e.touches[0],Rt),e.touches.length>1&&(Pt[1]=Ot(e.touches[1],Nt))):(Rt.x=e.pageX,Rt.y=e.pageY,Rt.id="",Pt[0]=Rt),Pt},Kt=function(e,t){var i,n,o,s,r=0,c=me[e]+t[e],d=t[e]>0,u=yt.x+t.x,h=yt.x-pt.x;return i=c>ne.min[e]||c<ne.max[e]?l.panEndFriction:1,c=me[e]+t[e]*i,!l.allowPanToNext&&b!==a.currItem.initialZoomLevel||(oe?"h"!==se||"x"!==e||V||(d?(c>ne.min[e]&&(i=l.panEndFriction,r=ne.min[e]-c,n=ne.min[e]-fe[e]),(n<=0||h<0)&&ei()>1?(s=u,h<0&&u>pt.x&&(s=pt.x)):ne.min.x!==ne.max.x&&(o=c)):(c<ne.max[e]&&(i=l.panEndFriction,r=c-ne.max[e],n=fe[e]-ne.max[e]),(n<=0||h>0)&&ei()>1?(s=u,h>0&&u<pt.x&&(s=pt.x)):ne.min.x!==ne.max.x&&(o=c))):s=u,"x"!==e)?void(ae||X||b>a.currItem.fitRatio&&(me[e]+=t[e]*i)):(void 0!==s&&(Ne(s,!0),X=s!==pt.x),ne.min.x!==ne.max.x&&(void 0!==o?me.x=o:X||(me.x+=t.x*i)),void 0!==s)},_t=function(e){if(!("mousedown"===e.type&&e.button>0)){if(Xt)return void e.preventDefault();if(!j||"mousedown"!==e.type){if(Dt(e,!0)&&e.preventDefault(),Be("pointerDown"),O){var t=o.arraySearch(ht,e.pointerId,"id");t<0&&(t=ht.length),ht[t]={x:e.pageX,y:e.pageY,id:e.pointerId}}var i=Ut(e),n=i.length;$=null,it(),Y&&1!==n||(Y=re=!0,o.bind(window,m,a),Q=de=le=Z=X=z=W=V=!1,se=null,Be("firstTouchStart",i),Ue(fe,me),pe.x=pe.y=0,Ue(dt,i[0]),Ue(ut,dt),pt.x=ye.x*ve,ft=[{x:dt.x,y:dt.y}],H=G=De(),Qe(b,!0),kt(),It()),!ee&&n>1&&!ae&&!X&&(y=b,V=!1,ee=W=!0,pe.y=pe.x=0,Ue(fe,me),Ue(rt,i[0]),Ue(lt,i[1]),Lt(rt,lt,Ct),wt.x=Math.abs(Ct.x)-me.x,wt.y=Math.abs(Ct.y)-me.y,te=ie=Et(rt,lt))}}},Gt=function(e){if(e.preventDefault(),O){var t=o.arraySearch(ht,e.pointerId,"id");if(t>-1){var i=ht[t];i.x=e.pageX,i.y=e.pageY}}if(Y){var n=Ut(e);if(se||z||ee)$=n;else if(yt.x!==ye.x*ve)se="h";else{var a=Math.abs(n[0].x-dt.x)-Math.abs(n[0].y-dt.y);Math.abs(a)>=st&&(se=a>0?"h":"v",$=n)}}},Ht=function(){if($){var e=$.length;if(0!==e)if(Ue(rt,$[0]),ct.x=rt.x-dt.x,ct.y=rt.y-dt.y,ee&&e>1){if(dt.x=rt.x,dt.y=rt.y,!ct.x&&!ct.y&&At($[1],lt))return;Ue(lt,$[1]),V||(V=!0,Be("zoomGestureStarted"));var t=Et(rt,lt),i=Yt(t);i>a.currItem.initialZoomLevel+a.currItem.initialZoomLevel/15&&(de=!0);var n=1,o=Ze(),s=je();if(i<o)if(l.pinchToClose&&!de&&y<=a.currItem.initialZoomLevel){var r=o-i,c=1-r/(o/1.2);Oe(c),Be("onPinchClose",c),le=!0}else n=(o-i)/o,n>1&&(n=1),i=o-n*(o/3);else i>s&&(n=(i-s)/(6*o),n>1&&(n=1),i=s+n*o);n<0&&(n=0),te=t,Lt(rt,lt,vt),pe.x+=vt.x-Ct.x,pe.y+=vt.y-Ct.y,Ue(Ct,vt),me.x=Pe("x",i),me.y=Pe("y",i),Q=i>b,b=i,Me()}else{if(!se)return;if(re&&(re=!1,Math.abs(ct.x)>=st&&(ct.x-=$[0].x-ut.x),Math.abs(ct.y)>=st&&(ct.y-=$[0].y-ut.y)),dt.x=rt.x,dt.y=rt.y,0===ct.x&&0===ct.y)return;if("v"===se&&l.closeOnVerticalDrag&&!Tt()){pe.y+=ct.y,me.y+=ct.y;var d=Ft();return Z=!0,Be("onVerticalDrag",d),Oe(d),void Me()}Mt(De(),rt.x,rt.y),z=!0,ne=a.currItem.bounds;var u=Kt("x",ct);u||(Kt("y",ct),Ke(me),Me())}}},qt=function(e){if(K.isOldAndroid){if(j&&"mouseup"===e.type)return;e.type.indexOf("touch")>-1&&(clearTimeout(j),j=setTimeout(function(){j=0},600))}Be("pointerUp"),Dt(e,!1)&&e.preventDefault();var t;if(O){var i=o.arraySearch(ht,e.pointerId,"id");if(i>-1)if(t=ht.splice(i,1)[0],navigator.pointerEnabled)t.type=e.pointerType||"mouse";else{var n={4:"mouse",2:"touch",3:"pen"};t.type=n[e.pointerType],t.type||(t.type=e.pointerType||"mouse")}}var s,r=Ut(e),c=r.length;if("mouseup"===e.type&&(c=0),2===c)return $=null,!0;1===c&&Ue(ut,r[0]),0!==c||se||ae||(t||("mouseup"===e.type?t={x:e.pageX,y:e.pageY,type:"mouse"}:e.changedTouches&&e.changedTouches[0]&&(t={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,type:"touch"})),Be("touchRelease",e,t));var d=-1;if(0===c&&(Y=!1,o.unbind(window,m,a),kt(),ee?d=0:bt!==-1&&(d=De()-bt)),bt=1===c?De():-1,s=d!==-1&&d<150?"zoom":"swipe",ee&&c<2&&(ee=!1,1===c&&(s="zoomPointerUp"),Be("zoomGestureEnded")),$=null,z||V||ae||Z)if(it(),q||(q=Qt()),q.calculateSwipeSpeed("x"),Z){var u=Ft();if(u<l.verticalDragRange)a.close();else{var h=me.y,p=ce;nt("verticalDrag",0,1,300,o.easing.cubic.out,function(e){me.y=(a.currItem.initialPosition.y-h)*e+h,Oe((1-p)*e+p),Me()}),Be("onVerticalDrag",1)}}else{if((X||ae)&&0===c){var f=jt(s,q);if(f)return;s="zoomPointerUp"}if(!ae)return"swipe"!==s?void Wt():void(!X&&b>a.currItem.fitRatio&&Zt(q))}},Qt=function(){var e,t,i={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(n){ft.length>1?(e=De()-H+50,t=ft[ft.length-2][n]):(e=De()-G,t=ut[n]),i.lastFlickOffset[n]=dt[n]-t,i.lastFlickDist[n]=Math.abs(i.lastFlickOffset[n]),i.lastFlickDist[n]>20?i.lastFlickSpeed[n]=i.lastFlickOffset[n]/e:i.lastFlickSpeed[n]=0,Math.abs(i.lastFlickSpeed[n])<.1&&(i.lastFlickSpeed[n]=0),i.slowDownRatio[n]=.95,i.slowDownRatioReverse[n]=1-i.slowDownRatio[n],i.speedDecelerationRatio[n]=1},calculateOverBoundsAnimOffset:function(e,t){i.backAnimStarted[e]||(me[e]>ne.min[e]?i.backAnimDestination[e]=ne.min[e]:me[e]<ne.max[e]&&(i.backAnimDestination[e]=ne.max[e]),void 0!==i.backAnimDestination[e]&&(i.slowDownRatio[e]=.7,i.slowDownRatioReverse[e]=1-i.slowDownRatio[e],i.speedDecelerationRatioAbs[e]<.05&&(i.lastFlickSpeed[e]=0,i.backAnimStarted[e]=!0,nt("bounceZoomPan"+e,me[e],i.backAnimDestination[e],t||300,o.easing.sine.out,function(t){me[e]=t,Me()}))))},calculateAnimOffset:function(e){i.backAnimStarted[e]||(i.speedDecelerationRatio[e]=i.speedDecelerationRatio[e]*(i.slowDownRatio[e]+i.slowDownRatioReverse[e]-i.slowDownRatioReverse[e]*i.timeDiff/10),i.speedDecelerationRatioAbs[e]=Math.abs(i.lastFlickSpeed[e]*i.speedDecelerationRatio[e]),i.distanceOffset[e]=i.lastFlickSpeed[e]*i.speedDecelerationRatio[e]*i.timeDiff,me[e]+=i.distanceOffset[e])},panAnimLoop:function(){if(Xe.zoomPan&&(Xe.zoomPan.raf=M(i.panAnimLoop),i.now=De(),i.timeDiff=i.now-i.lastNow,i.lastNow=i.now,i.calculateAnimOffset("x"),i.calculateAnimOffset("y"),Me(),i.calculateOverBoundsAnimOffset("x"),i.calculateOverBoundsAnimOffset("y"),i.speedDecelerationRatioAbs.x<.05&&i.speedDecelerationRatioAbs.y<.05))return me.x=Math.round(me.x),me.y=Math.round(me.y),Me(),void et("zoomPan")}};return i},Zt=function(e){return e.calculateSwipeSpeed("y"),ne=a.currItem.bounds,e.backAnimDestination={},e.backAnimStarted={},Math.abs(e.lastFlickSpeed.x)<=.05&&Math.abs(e.lastFlickSpeed.y)<=.05?(e.speedDecelerationRatioAbs.x=e.speedDecelerationRatioAbs.y=0,e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),!0):(tt("zoomPan"),e.lastNow=De(),void e.panAnimLoop())},jt=function(e,t){var i;ae||(gt=h);var n;if("swipe"===e){var s=dt.x-ut.x,r=t.lastFlickDist.x<10;s>at&&(r||t.lastFlickOffset.x>20)?n=-1:s<-at&&(r||t.lastFlickOffset.x<-20)&&(n=1)}var c;n&&(h+=n,h<0?(h=l.loop?ei()-1:0,c=!0):h>=ei()&&(h=l.loop?0:ei()-1,c=!0),c&&!l.loop||(we+=n,ve-=n,i=!0));var d,u=ye.x*ve,p=Math.abs(u-yt.x);return i||u>yt.x==t.lastFlickSpeed.x>0?(d=Math.abs(t.lastFlickSpeed.x)>0?p/Math.abs(t.lastFlickSpeed.x):333,d=Math.min(d,400),d=Math.max(d,250)):d=333,gt===h&&(i=!1),ae=!0,Be("mainScrollAnimStart"),nt("mainScroll",yt.x,u,d,o.easing.cubic.out,Ne,function(){it(),ae=!1,gt=-1,(i||gt!==h)&&a.updateCurrItem(),Be("mainScrollAnimComplete")}),i&&a.updateCurrItem(!0),i},Yt=function(e){return 1/ie*e*y},Wt=function(){var e=b,t=Ze(),i=je();b<t?e=t:b>i&&(e=i);var n,s=1,r=ce;return le&&!Q&&!de&&b<t?(a.close(),!0):(le&&(n=function(e){Oe((s-r)*e+r)}),a.zoomTo(e,0,200,o.easing.cubic.out,n),!0)};ke("Gestures",{publicMethods:{initGestures:function(){var e=function(e,t,i,n,o){I=e+t,T=e+i,S=e+n,B=o?e+o:""};O=K.pointerEvent,O&&K.touch&&(K.touch=!1),O?navigator.pointerEnabled?e("pointer","down","move","up","cancel"):e("MSPointer","Down","Move","Up","Cancel"):K.touch?(e("touch","start","move","end","cancel"),L=!0):e("mouse","down","move","up"),m=T+" "+S+" "+B,g=I,O&&!L&&(L=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),a.likelyTouchDevice=L,v[I]=_t,v[T]=Gt,v[S]=qt,B&&(v[B]=v[S]),K.touch&&(g+=" mousedown",m+=" mousemove mouseup",v.mousedown=v[I],v.mousemove=v[T],v.mouseup=v[S]),L||(l.allowPanToNext=!1)}}});var Vt,zt,Jt,Xt,$t,ei,ti,ii=function(t,i,n,s){Vt&&clearTimeout(Vt),Xt=!0,Jt=!0;var r;t.initialLayout?(r=t.initialLayout,t.initialLayout=null):r=l.getThumbBoundsFn&&l.getThumbBoundsFn(h);var c=n?l.hideAnimationDuration:l.showAnimationDuration,d=function(){et("initialZoom"),n?(a.template.removeAttribute("style"),a.bg.removeAttribute("style")):(Oe(1),i&&(i.style.display="block"),o.addClass(e,"pswp--animated-in"),Be("initialZoom"+(n?"OutEnd":"InEnd"))),s&&s(),Xt=!1};if(!c||!r||void 0===r.x)return Be("initialZoom"+(n?"Out":"In")),b=t.initialZoomLevel,Ue(me,t.initialPosition),Me(),e.style.opacity=n?0:1,Oe(1),void(c?setTimeout(function(){d()},c):d());var p=function(){var i=u,s=!a.currItem.src||a.currItem.loadError||l.showHideOpacity;t.miniImg&&(t.miniImg.style.webkitBackfaceVisibility="hidden"),n||(b=r.w/t.w,me.x=r.x,me.y=r.y-N,a[s?"template":"bg"].style.opacity=.001,Me()),tt("initialZoom"),n&&!i&&o.removeClass(e,"pswp--animated-in"),s&&(n?o[(i?"remove":"add")+"Class"](e,"pswp--animate_opacity"):setTimeout(function(){o.addClass(e,"pswp--animate_opacity")},30)),Vt=setTimeout(function(){if(Be("initialZoom"+(n?"Out":"In")),n){var a=r.w/t.w,l={x:me.x,y:me.y},u=b,h=ce,p=function(t){1===t?(b=a,me.x=r.x,me.y=r.y-U):(b=(a-u)*t+u,me.x=(r.x-l.x)*t+l.x,me.y=(r.y-U-l.y)*t+l.y),Me(),s?e.style.opacity=1-t:Oe(h-t*h)};i?nt("initialZoom",0,1,c,o.easing.cubic.out,p,d):(p(1),Vt=setTimeout(d,c+20))}else b=t.initialZoomLevel,Ue(me,t.initialPosition),Me(),Oe(1),s?e.style.opacity=1:Oe(1),Vt=setTimeout(d,c+20)},n?25:90)};p()},ni={},oi=[],ai={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return zt.length}},si=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},ri=function(e,t,i){var n=e.bounds;n.center.x=Math.round((ni.x-t)/2),n.center.y=Math.round((ni.y-i)/2)+e.vGap.top,n.max.x=t>ni.x?Math.round(ni.x-t):n.center.x,n.max.y=i>ni.y?Math.round(ni.y-i)+e.vGap.top:n.center.y,n.min.x=t>ni.x?0:n.center.x,n.min.y=i>ni.y?e.vGap.top:n.center.y},li=function(e,t,i){if(e.src&&!e.loadError){var n=!i;if(n&&(e.vGap||(e.vGap={top:0,bottom:0}),Be("parseVerticalMargin",e)),ni.x=t.x,ni.y=t.y-e.vGap.top-e.vGap.bottom,n){var o=ni.x/e.w,a=ni.y/e.h;e.fitRatio=o<a?o:a;var s=l.scaleMode;"orig"===s?i=1:"fit"===s&&(i=e.fitRatio),i>1&&(i=1),e.initialZoomLevel=i,e.bounds||(e.bounds=si())}if(!i)return;return ri(e,e.w*i,e.h*i),n&&i===e.initialZoomLevel&&(e.initialPosition=e.bounds.center),e.bounds}return e.w=e.h=0,e.initialZoomLevel=e.fitRatio=1,e.bounds=si(),e.initialPosition=e.bounds.center,e.bounds},ci=function(e,t,i,n,o,s){t.loadError||n&&(t.imageAppended=!0,hi(t,n,t===a.currItem&&Ee),i.appendChild(n),s&&setTimeout(function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)},500))},di=function(e){e.loading=!0,e.loaded=!1;var t=e.img=o.createEl("pswp__img","img"),i=function(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,t.onload=t.onerror=null,t=null};return t.onload=i,t.onerror=function(){e.loadError=!0,i()},t.src=e.src,t},ui=function(e,t){if(e.src&&e.loadError&&e.container)return t&&(e.container.innerHTML=""),e.container.innerHTML=l.errorMsg.replace("%url%",e.src),!0},hi=function(e,t,i){if(e.src){t||(t=e.container.lastChild);var n=i?e.w:Math.round(e.w*e.fitRatio),o=i?e.h:Math.round(e.h*e.fitRatio);e.placeholder&&!e.loaded&&(e.placeholder.style.width=n+"px",e.placeholder.style.height=o+"px"),t.style.width=n+"px",t.style.height=o+"px"}},pi=function(){if(oi.length){for(var e,t=0;t<oi.length;t++)e=oi[t],e.holder.index===e.index&&ci(e.index,e.item,e.baseDiv,e.img,!1,e.clearPlaceholder);oi=[]}};ke("Controller",{publicMethods:{lazyLoadItem:function(e){e=Ie(e);var t=$t(e);t&&(!t.loaded&&!t.loading||x)&&(Be("gettingData",e,t),t.src&&di(t))},initController:function(){o.extend(l,ai,!0),a.items=zt=i,$t=a.getItemAt,ei=l.getNumItemsFn,ti=l.loop,ei()<3&&(l.loop=!1),Se("beforeChange",function(e){var t,i=l.preload,n=null===e||e>=0,o=Math.min(i[0],ei()),s=Math.min(i[1],ei());for(t=1;t<=(n?s:o);t++)a.lazyLoadItem(h+t);for(t=1;t<=(n?o:s);t++)a.lazyLoadItem(h-t)}),Se("initialLayout",function(){a.currItem.initialLayout=l.getThumbBoundsFn&&l.getThumbBoundsFn(h)}),Se("mainScrollAnimComplete",pi),Se("initialZoomInEnd",pi),Se("destroy",function(){for(var e,t=0;t<zt.length;t++)e=zt[t],e.container&&(e.container=null),e.placeholder&&(e.placeholder=null),e.img&&(e.img=null),e.preloader&&(e.preloader=null),e.loadError&&(e.loaded=e.loadError=!1);oi=null})},getItemAt:function(e){return e>=0&&void 0!==zt[e]&&zt[e]},allowProgressiveImg:function(){return l.forceProgressiveLoading||!L||l.mouseUsed||screen.width>1200},setContent:function(e,t){l.loop&&(t=Ie(t));var i=a.getItemAt(e.index);i&&(i.container=null);var n,s=a.getItemAt(t);if(!s)return void(e.el.innerHTML="");Be("gettingData",t,s),e.index=t,e.item=s;var r=s.container=o.createEl("pswp__zoom-wrap");if(!s.src&&s.html&&(s.html.tagName?r.appendChild(s.html):r.innerHTML=s.html),ui(s),li(s,ge),!s.src||s.loadError||s.loaded)s.src&&!s.loadError&&(n=o.createEl("pswp__img","img"),n.style.opacity=1,n.src=s.src,hi(s,n),ci(t,s,r,n,!0));else{if(s.loadComplete=function(i){if(c){if(e&&e.index===t){if(ui(i,!0))return i.loadComplete=i.img=null,li(i,ge),Fe(i),void(e.index===h&&a.updateCurrZoomItem());i.imageAppended?!Xt&&i.placeholder&&(i.placeholder.style.display="none",i.placeholder=null):K.transform&&(ae||Xt)?oi.push({item:i,baseDiv:r,img:i.img,index:t,holder:e,clearPlaceholder:!0}):ci(t,i,r,i.img,ae||Xt,!0)}i.loadComplete=null,i.img=null,Be("imageLoadComplete",t,i)}},o.features.transform){var d="pswp__img pswp__img--placeholder";d+=s.msrc?"":" pswp__img--placeholder--blank";var u=o.createEl(d,s.msrc?"img":"");s.msrc&&(u.src=s.msrc),hi(s,u),r.appendChild(u),s.placeholder=u}s.loading||di(s),a.allowProgressiveImg()&&(!Jt&&K.transform?oi.push({item:s,baseDiv:r,img:s.img,index:t,holder:e}):ci(t,s,r,s.img,!0,!0))}Jt||t!==h?Fe(s):(oe=r.style,ii(s,n||s.img)),e.el.innerHTML="",e.el.appendChild(r)},cleanSlide:function(e){e.img&&(e.img.onload=e.img.onerror=null),e.loaded=e.loading=e.img=e.imageAppended=!1}}});var fi,mi={},gi=function(e,t,i){var n=document.createEvent("CustomEvent"),o={origEvent:e,target:e.target,releasePoint:t,pointerType:i||"touch"};n.initCustomEvent("pswpTap",!0,!0,o),e.target.dispatchEvent(n)};ke("Tap",{publicMethods:{initTap:function(){Se("firstTouchStart",a.onTapStart),Se("touchRelease",a.onTapRelease),Se("destroy",function(){mi={},fi=null})},onTapStart:function(e){e.length>1&&(clearTimeout(fi),fi=null)},onTapRelease:function(e,t){if(t&&!z&&!W&&!$e){var i=t;if(fi&&(clearTimeout(fi),fi=null,xt(i,mi)))return void Be("doubleTap",i);if("mouse"===t.type)return void gi(e,t,"mouse");var n=e.target.tagName.toUpperCase();if("BUTTON"===n||o.hasClass(e.target,"pswp__single-tap"))return void gi(e,t);Ue(mi,i),fi=setTimeout(function(){gi(e,t),fi=null},300)}}}});var vi;ke("DesktopZoom",{publicMethods:{initDesktopZoom:function(){P||(L?Se("mouseUsed",function(){a.setupDesktopZoom()}):a.setupDesktopZoom(!0))},setupDesktopZoom:function(t){vi={};var i="wheel mousewheel DOMMouseScroll";Se("bindEvents",function(){o.bind(e,i,a.handleMouseWheel)}),Se("unbindEvents",function(){vi&&o.unbind(e,i,a.handleMouseWheel)}),a.mouseZoomedIn=!1;var n,s=function(){a.mouseZoomedIn&&(o.removeClass(e,"pswp--zoomed-in"),a.mouseZoomedIn=!1),b<1?o.addClass(e,"pswp--zoom-allowed"):o.removeClass(e,"pswp--zoom-allowed"),r()},r=function(){n&&(o.removeClass(e,"pswp--dragging"),n=!1)};Se("resize",s),Se("afterChange",s),Se("pointerDown",function(){a.mouseZoomedIn&&(n=!0,o.addClass(e,"pswp--dragging"))}),Se("pointerUp",r),t||s()},handleMouseWheel:function(e){if(b<=a.currItem.fitRatio)return l.modal&&(!l.closeOnScroll||$e||Y?e.preventDefault():D&&Math.abs(e.deltaY)>2&&(u=!0,a.close())),!0;if(e.stopPropagation(),vi.x=0,"deltaX"in e)1===e.deltaMode?(vi.x=18*e.deltaX,vi.y=18*e.deltaY):(vi.x=e.deltaX,vi.y=e.deltaY);else if("wheelDelta"in e)e.wheelDeltaX&&(vi.x=-.16*e.wheelDeltaX),e.wheelDeltaY?vi.y=-.16*e.wheelDeltaY:vi.y=-.16*e.wheelDelta;else{if(!("detail"in e))return;vi.y=e.detail}Qe(b,!0);var t=me.x-vi.x,i=me.y-vi.y;(l.modal||t<=ne.min.x&&t>=ne.max.x&&i<=ne.min.y&&i>=ne.max.y)&&e.preventDefault(),a.panTo(t,i)},toggleDesktopZoom:function(t){t=t||{x:ge.x/2+be.x,y:ge.y/2+be.y};var i=l.getDoubleTapZoom(!0,a.currItem),n=b===i;a.mouseZoomedIn=!n,a.zoomTo(n?a.currItem.initialZoomLevel:i,t,333),o[(n?"remove":"add")+"Class"](e,"pswp--zoomed-in")}}});var bi,yi,wi,Ci,Ai,xi,Ei,ki,Ii,Ti,Si,Bi,Di={history:!0,galleryUID:1},Oi=function(){return Si.hash.substring(1)},Li=function(){bi&&clearTimeout(bi),wi&&clearTimeout(wi)},Mi=function(){var e=Oi(),t={};if(e.length<5)return t;var i,n=e.split("&");for(i=0;i<n.length;i++)if(n[i]){var o=n[i].split("=");o.length<2||(t[o[0]]=o[1])}if(l.galleryPIDs){var a=t.pid;for(t.pid=0,i=0;i<zt.length;i++)if(zt[i].pid===a){t.pid=i;break}}else t.pid=parseInt(t.pid,10)-1;return t.pid<0&&(t.pid=0),t},Fi=function(){if(wi&&clearTimeout(wi),$e||Y)return void(wi=setTimeout(Fi,500));Ci?clearTimeout(yi):Ci=!0;var e=h+1,t=$t(h);t.hasOwnProperty("pid")&&(e=t.pid);var i=Ei+"&gid="+l.galleryUID+"&pid="+e;ki||Si.hash.indexOf(i)===-1&&(Ti=!0);var n=Si.href.split("#")[0]+"#"+i;Bi?"#"+i!==window.location.hash&&history[ki?"replaceState":"pushState"]("",document.title,n):ki?Si.replace(n):Si.hash=i,ki=!0,yi=setTimeout(function(){Ci=!1},60)};ke("History",{publicMethods:{initHistory:function(){if(o.extend(l,Di,!0),l.history){Si=window.location,Ti=!1,Ii=!1,ki=!1,Ei=Oi(),Bi="pushState"in history,Ei.indexOf("gid=")>-1&&(Ei=Ei.split("&gid=")[0],Ei=Ei.split("?gid=")[0]),Se("afterChange",a.updateURL),Se("unbindEvents",function(){o.unbind(window,"hashchange",a.onHashChange)});var e=function(){xi=!0,Ii||(Ti?history.back():Ei?Si.hash=Ei:Bi?history.pushState("",document.title,Si.pathname+Si.search):Si.hash=""),Li()};Se("unbindEvents",function(){u&&e()}),Se("destroy",function(){xi||e()}),Se("firstUpdate",function(){h=Mi().pid});var t=Ei.indexOf("pid=");t>-1&&(Ei=Ei.substring(0,t),"&"===Ei.slice(-1)&&(Ei=Ei.slice(0,-1))),setTimeout(function(){c&&o.bind(window,"hashchange",a.onHashChange)},40)}},onHashChange:function(){return Oi()===Ei?(Ii=!0,void a.close()):void(Ci||(Ai=!0,a.goTo(Mi().pid),Ai=!1))},updateURL:function(){Li(),Ai||(ki?bi=setTimeout(Fi,800):Fi())}}}),o.extend(a,ot)};return e});var initPhotoSwipeFromDOM=function(e){for(var t=function(e){for(var t,i,n,o,a=e.childNodes,s=a.length,r=[],l=0;l<s;l++)t=a[l],1===t.nodeType&&(i=t.children[0],n=i.getAttribute("data-size").split("x"),o={src:i.getAttribute("href"),w:parseInt(n[0],10),h:parseInt(n[1],10)},t.children.length>1&&(o.title=t.children[1].innerHTML),i.children.length>0&&(o.msrc=i.children[0].getAttribute("src")),o.el=t,r.push(o));return r},i=function d(e,t){return e&&(t(e)?e:d(e.parentNode,t))},n=function(e){e=e||window.event,e.preventDefault?e.preventDefault():e.returnValue=!1;var t=e.target||e.srcElement,n=i(t,function(e){return e.tagName&&"FIGURE"===e.tagName.toUpperCase()});if(n){for(var o,s=n.parentNode,r=n.parentNode.childNodes,l=r.length,c=0,d=0;d<l;d++)if(1===r[d].nodeType){if(r[d]===n){o=c;break}c++}return o>=0&&a(o,s),!1}},o=function(){var e=window.location.hash.substring(1),t={};if(e.length<5)return t;for(var i=e.split("&"),n=0;n<i.length;n++)if(i[n]){var o=i[n].split("=");o.length<2||(t[o[0]]=o[1])}return t.gid&&(t.gid=parseInt(t.gid,10)),t},a=function(e,i,n,o){var a,s,r,l=document.querySelectorAll(".pswp")[0];if(r=t(i),s={galleryUID:i.getAttribute("data-pswp-uid"),getThumbBoundsFn:function(e){var t=r[e].el.getElementsByTagName("img")[0],i=window.pageYOffset||document.documentElement.scrollTop,n=t.getBoundingClientRect();return{x:n.left,y:n.top+i,w:n.width}}},o)if(s.galleryPIDs){for(var c=0;c<r.length;c++)if(r[c].pid==e){s.index=c;break}}else s.index=parseInt(e,10)-1;else s.index=parseInt(e,10);isNaN(s.index)||(n&&(s.showAnimationDuration=0),a=new PhotoSwipe(l,PhotoSwipeUI_Default,r,s),a.init())},s=document.querySelectorAll(e),r=0,l=s.length;r<l;r++)s[r].setAttribute("data-pswp-uid",r+1),s[r].onclick=n;var c=o();c.pid&&c.gid&&a(c.pid,s[c.gid-1],!0,!0)};initPhotoSwipeFromDOM(".photoswipe__portfolio"),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){var t=Array.prototype.slice,i=Array.prototype.splice,n={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper",center:!1,getWidthFrom:"",widthFromWrapper:!0,responsiveWidth:!1,zIndex:"auto"},o=e(window),a=e(document),s=[],r=o.height(),l=function(){for(var t=o.scrollTop(),i=a.height(),n=i-r,l=t>n?n-t:0,c=0,d=s.length;c<d;c++){var u=s[c],h=u.stickyWrapper.offset().top,p=h-u.topSpacing-l;if(u.stickyWrapper.css("height",u.stickyElement.outerHeight()),t<=p)null!==u.currentTop&&(u.stickyElement.css({width:"",position:"",top:"","z-index":""}),u.stickyElement.parent().removeClass(u.className),u.stickyElement.trigger("sticky-end",[u]),u.currentTop=null);else{var f=i-u.stickyElement.outerHeight()-u.topSpacing-u.bottomSpacing-t-l;if(f<0?f+=u.topSpacing:f=u.topSpacing,u.currentTop!==f){var m;u.getWidthFrom?m=e(u.getWidthFrom).width()||null:u.widthFromWrapper&&(m=u.stickyWrapper.width()),null==m&&(m=u.stickyElement.width()),u.stickyElement.css("width",m).css("position","fixed").css("top",f).css("z-index",u.zIndex),u.stickyElement.parent().addClass(u.className),null===u.currentTop?u.stickyElement.trigger("sticky-start",[u]):u.stickyElement.trigger("sticky-update",[u]),u.currentTop===u.topSpacing&&u.currentTop>f||null===u.currentTop&&f<u.topSpacing?u.stickyElement.trigger("sticky-bottom-reached",[u]):null!==u.currentTop&&f===u.topSpacing&&u.currentTop<f&&u.stickyElement.trigger("sticky-bottom-unreached",[u]),u.currentTop=f}var g=u.stickyWrapper.parent(),v=u.stickyElement.offset().top+u.stickyElement.outerHeight()>=g.offset().top+g.outerHeight()&&u.stickyElement.offset().top<=u.topSpacing;v?u.stickyElement.css("position","absolute").css("top","").css("bottom",0).css("z-index",""):u.stickyElement.css("position","fixed").css("top",f).css("bottom","").css("z-index",u.zIndex)}}},c=function(){r=o.height();for(var t=0,i=s.length;t<i;t++){var n=s[t],a=null;n.getWidthFrom?n.responsiveWidth&&(a=e(n.getWidthFrom).width()):n.widthFromWrapper&&(a=n.stickyWrapper.width()),null!=a&&n.stickyElement.css("width",a)}},d={init:function(t){var i=e.extend({},n,t);return this.each(function(){var t=e(this),o=t.attr("id"),a=o?o+"-"+n.wrapperClassName:n.wrapperClassName,r=e("<div></div>").attr("id",a).addClass(i.wrapperClassName);t.wrapAll(r);var l=t.parent();i.center&&l.css({width:t.outerWidth(),marginLeft:"auto",marginRight:"auto"}),"right"===t.css("float")&&t.css({"float":"none"}).parent().css({"float":"right"}),i.stickyElement=t,i.stickyWrapper=l,i.currentTop=null,s.push(i),d.setWrapperHeight(this),d.setupChangeListeners(this)})},setWrapperHeight:function(t){var i=e(t),n=i.parent();n&&n.css("height",i.outerHeight())},setupChangeListeners:function(e){if(window.MutationObserver){var t=new window.MutationObserver(function(t){(t[0].addedNodes.length||t[0].removedNodes.length)&&d.setWrapperHeight(e)});t.observe(e,{subtree:!0,childList:!0})}else e.addEventListener("DOMNodeInserted",function(){d.setWrapperHeight(e)},!1),e.addEventListener("DOMNodeRemoved",function(){d.setWrapperHeight(e)},!1)},update:l,unstick:function(t){return this.each(function(){for(var t=this,n=e(t),o=-1,a=s.length;a-- >0;)s[a].stickyElement.get(0)===t&&(i.call(s,a,1),o=a);o!==-1&&(n.unwrap(),n.css({width:"",position:"",top:"","float":"","z-index":""}))})}};window.addEventListener?(window.addEventListener("scroll",l,!1),window.addEventListener("resize",c,!1)):window.attachEvent&&(window.attachEvent("onscroll",l),window.attachEvent("onresize",c)),e.fn.sticky=function(i){return d[i]?d[i].apply(this,t.call(arguments,1)):"object"!=typeof i&&i?void e.error("Method "+i+" does not exist on jQuery.sticky"):d.init.apply(this,arguments)},e.fn.unstick=function(i){return d[i]?d[i].apply(this,t.call(arguments,1)):"object"!=typeof i&&i?void e.error("Method "+i+" does not exist on jQuery.sticky"):d.unstick.apply(this,arguments)},e(function(){setTimeout(l,0)})}),!function(e,t){"use strict";var i=function(){var i={bcClass:"sf-breadcrumb",menuClass:"sf-js-enabled",anchorClass:"sf-with-ul",menuArrowClass:"sf-arrows"},n=function(){var t=/^(?![\w\W]*Windows Phone)[\w\W]*(iPhone|iPad|iPod)/i.test(navigator.userAgent);return t&&e("html").css("cursor","pointer").on("click",e.noop),t}(),o=function(){var e=document.documentElement.style;return"behavior"in e&&"fill"in e&&/iemobile/i.test(navigator.userAgent)}(),a=function(){return!!t.PointerEvent}(),s=function(e,t,n){var o,a=i.menuClass;t.cssArrows&&(a+=" "+i.menuArrowClass),o=n?"addClass":"removeClass",e[o](a)},r=function(t,n){return t.find("li."+n.pathClass).slice(0,n.pathLevels).addClass(n.hoverClass+" "+i.bcClass).filter(function(){return e(this).children(n.popUpSelector).hide().show().length}).removeClass(n.pathClass)},l=function(e,t){var n=t?"addClass":"removeClass";e.children("a")[n](i.anchorClass)},c=function(e){var t=e.css("ms-touch-action"),i=e.css("touch-action");i=i||t,i="pan-y"===i?"auto":"pan-y",e.css({"ms-touch-action":i,"touch-action":i})},d=function(e){return e.closest("."+i.menuClass)},u=function(e){return d(e).data("sfOptions")},h=function(){var t=e(this),i=u(t);clearTimeout(i.sfTimer),t.siblings().superfish("hide").end().superfish("show")},p=function(t){t.retainPath=e.inArray(this[0],t.$path)>-1,this.superfish("hide"),this.parents("."+t.hoverClass).length||(t.onIdle.call(d(this)),t.$path.length&&e.proxy(h,t.$path)())},f=function(){var t=e(this),i=u(t);n?e.proxy(p,t,i)():(clearTimeout(i.sfTimer),i.sfTimer=setTimeout(e.proxy(p,t,i),i.delay))},m=function(t){var i=e(this),n=u(i),o=i.siblings(t.data.popUpSelector);return n.onHandleTouch.call(o)===!1?this:void(o.length>0&&o.is(":hidden")&&(i.one("click.superfish",!1),"MSPointerDown"===t.type||"pointerdown"===t.type?i.trigger("focus"):e.proxy(h,i.parent("li"))()))},g=function(t,i){var s="li:has("+i.popUpSelector+")";e.fn.hoverIntent&&!i.disableHI?t.hoverIntent(h,f,s):t.on("mouseenter.superfish",s,h).on("mouseleave.superfish",s,f);var r="MSPointerDown.superfish";a&&(r="pointerdown.superfish"),n||(r+=" touchend.superfish"),o&&(r+=" mousedown.superfish"),t.on("focusin.superfish","li",h).on("focusout.superfish","li",f).on(r,"a",i,m)};return{hide:function(t){if(this.length){var i=this,n=u(i);if(!n)return this;var o=n.retainPath===!0?n.$path:"",a=i.find("li."+n.hoverClass).add(this).not(o).removeClass(n.hoverClass).children(n.popUpSelector),s=n.speedOut;if(t&&(a.show(),s=0),n.retainPath=!1,n.onBeforeHide.call(a)===!1)return this;a.stop(!0,!0).animate(n.animationOut,s,function(){var t=e(this);n.onHide.call(t)})}return this},show:function(){var e=u(this);if(!e)return this;var t=this.addClass(e.hoverClass),i=t.children(e.popUpSelector);return e.onBeforeShow.call(i)===!1?this:(i.stop(!0,!0).animate(e.animation,e.speed,function(){e.onShow.call(i)}),this)},destroy:function(){return this.each(function(){var t,n=e(this),o=n.data("sfOptions");return!!o&&(t=n.find(o.popUpSelector).parent("li"),clearTimeout(o.sfTimer),s(n,o),l(t),c(n),n.off(".superfish").off(".hoverIntent"),t.children(o.popUpSelector).attr("style",function(e,t){return t.replace(/display[^;]+;?/g,"")}),o.$path.removeClass(o.hoverClass+" "+i.bcClass).addClass(o.pathClass),n.find("."+o.hoverClass).removeClass(o.hoverClass),o.onDestroy.call(n),void n.removeData("sfOptions"))})},init:function(t){return this.each(function(){var n=e(this);if(n.data("sfOptions"))return!1;var o=e.extend({},e.fn.superfish.defaults,t),a=n.find(o.popUpSelector).parent("li");o.$path=r(n,o),n.data("sfOptions",o),s(n,o,!0),l(a,!0),c(n),g(n,o),a.not("."+i.bcClass).superfish("hide",!0),o.onInit.call(this)})}}}();e.fn.superfish=function(t,n){return i[t]?i[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?e.error("Method "+t+" does not exist on jQuery.fn.superfish"):i.init.apply(this,arguments)},e.fn.superfish.defaults={popUpSelector:"ul,.sf-mega",hoverClass:"sfHover",pathClass:"overrideThisToUse",pathLevels:1,delay:800,animation:{opacity:"show"},animationOut:{opacity:"hide"},speed:"normal",speedOut:"fast",cssArrows:!0,disableHI:!1,onInit:e.noop,onBeforeShow:e.noop,onShow:e.noop,onBeforeHide:e.noop,onHide:e.noop,onIdle:e.noop,onDestroy:e.noop,onHandleTouch:e.noop}}(jQuery,window);